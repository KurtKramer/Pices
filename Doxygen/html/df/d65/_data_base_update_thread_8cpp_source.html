<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Pices: C:/Users/Kurt/GitHub/Pices/PicesLibraries/ImageExtractionManager/DataBaseUpdateThread.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Pices
   &#160;<span id="projectnumber">1.90</span>
   </div>
   <div id="projectbrief">Plankton image classification and extraction software (PICES)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('df/d65/_data_base_update_thread_8cpp_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">DataBaseUpdateThread.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../df/d65/_data_base_update_thread_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/da0/_first_includes_8h.html">FirstIncludes.h</a>&quot;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;ctype.h&gt;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;time.h&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#ifdef WIN32</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;windows.h&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d84/_memory_debug_8h.html">MemoryDebug.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">using namespace  </span><a class="code" href="../../d8/dcc/namespacestd.html">std</a>;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d46/_k_k_base_types_8h.html">KKBaseTypes.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d7d/_image_i_o_8h.html">ImageIO.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/dfa/_o_sservices_8h.html">OSservices.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d3a/_run_log_8h.html">RunLog.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/df5/_k_k_str_8h.html">KKStr.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">using namespace  </span><a class="code" href="../../dc/d98/namespace_k_k_b.html">KKB</a>;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/dbc/_duplicate_images_8h.html">DuplicateImages.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d75/_file_desc_8h.html">FileDesc.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/dd8/_m_l_class_8h.html">MLClass.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">using namespace  </span><a class="code" href="../../d1/d5c/namespace_k_k_m_l_l.html">KKMLL</a>;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/df5/_data_base_8h.html">DataBase.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/deb/_image_features_8h.html">ImageFeatures.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">using namespace  </span><a class="code" href="../../d7/dcc/namespace_m_l_l.html">MLL</a>;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d26/_data_base_update_thread_8h.html">DataBaseUpdateThread.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d7c/_extraction_manager_8h.html">ExtractionManager.h</a>&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/da4/_extraction_parms_8h.html">ExtractionParms.h</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d1f/_extracted_image_8h.html">ExtractedImage.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">using namespace  </span><a class="code" href="../../d0/d9d/namespace_image_extraction_manager.html">ImageExtractionManager</a>;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#aa44cbb16b6230b3a38861ad9aa77697a">   47</a></span>&#160;DataBaseUpdateThread::DataBaseUpdateThread (<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html">ExtractionParms</a>&amp;                 _parms,</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                            <a class="code" href="../../d3/d4a/class_image_extraction_manager_1_1_extraction_manager.html">ExtractionManagerPtr</a>             _extractionManager,</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="../../dc/ddd/class_k_k_b_1_1_k_k_str.html">KKStr</a>&amp;                     _threadName,</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                            <a class="code" href="../../dc/d85/class_k_k_b_1_1_msg_queue.html">MsgQueuePtr</a>                      _msgQueue,</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                                            <a class="code" href="../../d8/d06/class_image_extraction_manager_1_1_extracted_image_queue.html">ExtractedImageQueuePtr</a>           _imagesAwaitingUpdate,</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                                            <a class="code" href="../../d3/d58/class_m_l_l_1_1_sipper_extraction_image_manager.html">SipperExtractionImageManagerPtr</a>  _imageManager,</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                                            <a class="code" href="../../da/ddb/class_k_k_m_l_l_1_1_file_desc.html">FileDescPtr</a>                      _fileDesc</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                                           ):</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html">ImageExtractionThread</a> (_parms, _extractionManager, _threadName, _msgQueue),</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    dbConn                (NULL),</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    dupImageDetector      (NULL),</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    duplicateImageDir     (),</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    duplicateImages       (NULL),</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    duplicatesDetected    (0),</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    fileDesc              (_fileDesc),</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    imageManager          (_imageManager),</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    imagesAwaitingUpdate  (_imagesAwaitingUpdate),</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    imagesUpdated         (0),</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    log                   (),</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    sipperRootName        (),</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    updateFailures        (0)</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;{</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  sipperRootName = <a class="code" href="../../dc/d98/namespace_k_k_b.html#af5b668ed9902d7f93b62529664a739f0">osGetRootName</a> (<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a567b3e1c5c6e0d4d01cf5e386efceb95">SipperFileName</a> ());</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordflow">if</span>  (<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a408aaf5d9e16e694bc400d0b09187c9a">ExtractFeatureData</a> ())</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  {</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    dupImageDetector = <span class="keyword">new</span> <a class="code" href="../../d3/d3f/class_k_k_m_l_l_1_1_duplicate_images.html">DuplicateImages</a> (fileDesc, log);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    duplicateImages  = <span class="keyword">new</span> <a class="code" href="../../d9/dce/class_m_l_l_1_1_image_features_list.html">ImageFeaturesList</a> (fileDesc, <span class="keyword">true</span>);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    duplicateImageDir = <a class="code" href="../../dc/d98/namespace_k_k_b.html#aa0d40119b911df4283399a1724cab1ef">osAddSlash</a> (<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a266513499e197eaacac5d4ca11f556e0">OutputRootDir</a> ()) + <span class="stringliteral">&quot;DuplicateImages&quot;</span>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="../../dc/d98/namespace_k_k_b.html#a61e3d69fe8599d1057ace0d00c38a6f9">osCreateDirectoryPath</a> (duplicateImageDir);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  }</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#aea46d2b5966c876767bb032413500136">   85</a></span>&#160;<a class="code" href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#aea46d2b5966c876767bb032413500136">DataBaseUpdateThread::~DataBaseUpdateThread</a> ()</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;{</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keyword">delete</span>  dbConn;             dbConn = NULL;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keyword">delete</span>  dupImageDetector;   dupImageDetector = NULL;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keyword">delete</span>  duplicateImages;    duplicateImages  = NULL;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#aea45ab8f59b2573f13b248b91bd0d7fd">   94</a></span>&#160;<span class="keywordtype">void</span>  <a class="code" href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#aea45ab8f59b2573f13b248b91bd0d7fd">DataBaseUpdateThread::GetRunTimeStats</a> (<a class="code" href="../../dc/d98/namespace_k_k_b.html#af8d832f05c54994a1cce25bd5743e19a">kkuint32</a>&amp;  _imagesUpdated,</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                             <a class="code" href="../../dc/d98/namespace_k_k_b.html#af8d832f05c54994a1cce25bd5743e19a">kkuint32</a>&amp;  _duplicatesDetected,</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                                             <a class="code" href="../../dc/d98/namespace_k_k_b.html#af8d832f05c54994a1cce25bd5743e19a">kkuint32</a>&amp;  _updateFailures</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                                            )</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  _imagesUpdated      =  imagesUpdated;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  _duplicatesDetected =  duplicatesDetected;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  _updateFailures     =  updateFailures;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html">ExtractedImagePtr</a>  DataBaseUpdateThread::GetNextImageToUpdate ()</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html">ExtractedImagePtr</a>  nextImage = imagesAwaitingUpdate-&gt;<a class="code" href="../../d8/d06/class_image_extraction_manager_1_1_extracted_image_queue.html#a3ef8b895c9c37e9fd80bbdc4b92ffe04">GetNextExtractedImage</a> ();</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">while</span>  ((nextImage == NULL)  &amp;&amp;  (!<a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#ac2f537ffb0162014816a7b446417bbd7">ShutdownOrTerminateRequested</a> ()))</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="../../dc/d98/namespace_k_k_b.html#a1a3717b963b0813e96b66d1953fce1af">osSleep</a> (0.01f);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    nextImage = imagesAwaitingUpdate-&gt;<a class="code" href="../../d8/d06/class_image_extraction_manager_1_1_extracted_image_queue.html#a3ef8b895c9c37e9fd80bbdc4b92ffe04">GetNextExtractedImage</a> ();</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordflow">return</span>  nextImage;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}  <span class="comment">/* GetNextImageToUpdate */</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#a8760181ccecde4b7075c7f61ffe9681e">  123</a></span>&#160;<span class="keywordtype">void</span>  <a class="code" href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#a8760181ccecde4b7075c7f61ffe9681e">DataBaseUpdateThread::Run</a> ()</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;{</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a8b6636f59306caf89c24d9f756293d71">Status</a> (<a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a3f72bb1988ae5dd353b39260ae0acc72ac2efe4bbd13e6cb0db293e72884273c0">ThreadStatus::Starting</a>);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a8f6c004d6510b90e5eff9c34efd20967">AddMsg</a> (<span class="stringliteral">&quot;Run   Starting&quot;</span>);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordflow">if</span>  (<a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a85dcfd92879c8f74102af810cc44628b">CancelFlag</a> ())</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a8b6636f59306caf89c24d9f756293d71">Status</a> (<a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a3f72bb1988ae5dd353b39260ae0acc72ac23e2b09ebe6bf4cb5e2a9abe85c0be2">ThreadStatus::Stopped</a>);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordflow">if</span>  (<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a4d77ed82ae52041c961b61ad36798fe5">UpdateDataBase</a> ())</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    dbConn = <span class="keyword">new</span> <a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html">DataBase</a> (<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#aa4baa63971c3795b2fbb9590008ddb62">DataBaseServer</a> (), log);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span>  (!dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#ace2050cfde3ee6cf9a4bd4901850f58c">Valid</a> ())</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a1cc302487fe9e7fe79e7e6b056d3e7d1">Crashed</a> (<span class="keyword">true</span>);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <a class="code" href="../../dc/ddd/class_k_k_b_1_1_k_k_str.html">KKStr</a>  msg (100);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      msg &lt;&lt; <span class="stringliteral">&quot;Run     Failed to connect to database;  Error[&quot;</span> &lt;&lt; dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a647114917993e8b74a1c2f8c4886ec4b">LastErrorDesc</a> () &lt;&lt; <span class="stringliteral">&quot;].&quot;</span>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a8b6636f59306caf89c24d9f756293d71">Status</a> (<a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a3f72bb1988ae5dd353b39260ae0acc72ac23e2b09ebe6bf4cb5e2a9abe85c0be2">ThreadStatus::Stopped</a>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    } </div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a8b6636f59306caf89c24d9f756293d71">Status</a> (<a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a3f72bb1988ae5dd353b39260ae0acc72a5bda814c4aedb126839228f1a3d92f09">ThreadStatus::Running</a>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html">ExtractedImagePtr</a>  extractedImage = GetNextImageToUpdate ();</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">while</span>  (<span class="keyword">true</span>)</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">if</span>  (KKThread::TerminateFlag ())</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="comment">// If the TerminateFlag has been set then we want to exit out of this thread as</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="comment">// fast as we can even if there is still data to be updated.</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">if</span>  (extractedImage == NULL)</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keywordflow">if</span>  (this-&gt;<a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a271dba95d3432cf7ea4992951f2b2a38">ShutdownFlag</a> ())</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="comment">// Since Shutdown has been requested and there is nothing left to update the database with we can exit this thread.</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <a class="code" href="../../dc/d98/namespace_k_k_b.html#a1a3717b963b0813e96b66d1953fce1af">osSleep</a> (0.1f);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="keywordtype">bool</span>  imageIsDuplicate = <span class="keyword">false</span>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keywordtype">bool</span>  imageUpdated     = <span class="keyword">true</span>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <a class="code" href="../../d3/dc7/class_m_l_l_1_1_image_features.html">ImageFeaturesPtr</a>  featureVector = extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a8f47bd028237f26a9d7c24ebbc4a9ef1">FeatureVectorGiveOwnership</a> ();</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <a class="code" href="../../d3/d8f/class_m_l_l_1_1_raster_sipper.html">RasterSipperPtr</a>   raster        = extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#afe3a3a0c3cb208d2080e31f84b9691c9">ImageGiveOwnership</a> ();</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <a class="code" href="../../dc/ddd/class_k_k_b_1_1_k_k_str.html">KKStr</a>  imageFileName = raster-&gt;<a class="code" href="../../d9/d61/class_k_k_b_1_1_raster.html#a847b09bd1487b61bf126d7732f3694f2">FileName</a> ();</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="comment">// Before we go and save this Plankton Image, lets make sure that</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="comment">// it is not a duplicate of a previous one extracted. This was a problem</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="comment">// with the earlier version of SIPPER. The disk controller would write out</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="comment">// the last 10mb buffer to the disk twice. This issue was fixed but to allow us to </span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <span class="comment">// process the earlier SIPPER files we look for duplicates and exclude them</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <span class="comment">// from the database.</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keywordflow">if</span>  (dupImageDetector)</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <a class="code" href="../../d0/d73/class_k_k_m_l_l_1_1_duplicate_image.html">DuplicateImagePtr</a>  dupImages = dupImageDetector-&gt;<a class="code" href="../../d3/d3f/class_k_k_m_l_l_1_1_duplicate_images.html#a3cee9fd28e260d337c6c37e683bdda1d">AddSingleExample</a> (featureVector);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">if</span>  (dupImages)</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;          <a class="code" href="../../dc/ddd/class_k_k_b_1_1_k_k_str.html">KKStr</a>  msg (100);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;          msg &lt;&lt; <span class="stringliteral">&quot;Run   Duplicate Image Detected[&quot;</span> &lt;&lt; featureVector-&gt;<a class="code" href="../../dc/d09/class_k_k_m_l_l_1_1_feature_vector.html#ab47c89ab1e9396664fdc0dc34b6e1ab5">ExampleFileName</a> () &lt;&lt; <span class="stringliteral">&quot;].&quot;</span>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;          <a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a8f6c004d6510b90e5eff9c34efd20967">AddMsg</a> (msg);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;          imageIsDuplicate = <span class="keyword">true</span>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;          imageUpdated     = <span class="keyword">false</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;          <span class="keywordflow">if</span>  (!duplicateImageDir.<a class="code" href="../../dc/ddd/class_k_k_b_1_1_k_k_str.html#ac69942f73fffd672ec2a6e1c410afdb6">Empty</a> ())</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;          {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <span class="comment">// Since image is a duplicate we will need to move it to duplicates directory</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <a class="code" href="../../dc/ddd/class_k_k_b_1_1_k_k_str.html">KKStr</a>  newRootName = <a class="code" href="../../dc/d98/namespace_k_k_b.html#af5b668ed9902d7f93b62529664a739f0">osGetRootName</a> (dupImages-&gt;<a class="code" href="../../d0/d73/class_k_k_m_l_l_1_1_duplicate_image.html#ab005d27fa527c46b5b15fd77945680eb">FirstExampleAdded</a> ()-&gt;<a class="code" href="../../dc/d09/class_k_k_m_l_l_1_1_feature_vector.html#ab47c89ab1e9396664fdc0dc34b6e1ab5">ExampleFileName</a> ()) </div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                                  + <span class="stringliteral">&quot;-&quot;</span> +</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                                  <a class="code" href="../../dc/d98/namespace_k_k_b.html#af5b668ed9902d7f93b62529664a739f0">osGetRootName</a> (featureVector-&gt;<a class="code" href="../../dc/d09/class_k_k_m_l_l_1_1_feature_vector.html#ab47c89ab1e9396664fdc0dc34b6e1ab5">ExampleFileName</a> ());</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <a class="code" href="../../dc/ddd/class_k_k_b_1_1_k_k_str.html">KKStr</a>  newFullFileName = <a class="code" href="../../dc/d98/namespace_k_k_b.html#aa0d40119b911df4283399a1724cab1ef">osAddSlash</a> (duplicateImageDir) + newRootName + <span class="stringliteral">&quot;.bmp&quot;</span>;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <a class="code" href="../../dc/d98/namespace_k_k_b.html#a8ff1520db9e1af7f725bd711edca9024">osDeleteFile</a> (newFullFileName);  <span class="comment">// Make sure there is no file already there from prev run.</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            </div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <a class="code" href="../../dc/d98/namespace_k_k_b.html#a43b1434ebafb3a632b4957ef8313976e">SaveImageGrayscaleInverted4Bit</a> (*raster, newFullFileName);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;          }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;          <span class="comment">// We need to give ownership of the &#39;featureVector&#39; instance to &#39;duplicateImages&#39; because this instance</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;          <span class="comment">// is not going to be given to the &quot;imageManager&quot;; as a result we need to keep it in memory somewhere</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;          <span class="comment">// until we delete  the &#39;dupImageDetector&#39; instance which is referring to it.</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;          duplicateImages-&gt;<a class="code" href="../../d7/df1/class_k_k_m_l_l_1_1_feature_vector_list.html#abd43779a90a6aa3db1de8092be877bdb">PushOnBack</a> (featureVector);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;          featureVector = NULL;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;          <span class="comment">// But at this point there is no reason to save the &#39;raster&#39; instance.</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;          <span class="keyword">delete</span>  raster;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;          raster = NULL;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="keywordflow">if</span>  (!imageIsDuplicate)</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordtype">bool</span>  successful = <span class="keyword">false</span>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">if</span>  (<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a6f942691d76fb708441af42232922988">RefreshDataBaseImages</a> ()  &amp;&amp;  (dbConn != NULL)  &amp;&amp;  (extractedImage != NULL))</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;          ReFreshDataBaseImage (imageFileName, </div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                                sipperRootName, </div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                                raster, </div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                                featureVector, </div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                                extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a9ddc3403f77e9d2e24a4623ab783921a">ByteOffsetFirstScanRow</a> (),</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                                extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#ab34346434df02259d2d6da7a91056820">SipperFileScanRow</a> (),</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                                extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a0e35e03141d9e348adaae5ffedd7d602">SipperFileScanCol</a> ()</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                               );</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>  ((<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a408aaf5d9e16e694bc400d0b09187c9a">ExtractFeatureData</a> ())  &amp;&amp;  (dbConn != NULL))</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;          <a class="code" href="../../dc/d98/namespace_k_k_b.html#a8fa4952cc84fda1de4bec1fbdd8d5b1b">kkint32</a>  imageId = 0;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;          dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a2cbf59941c3bdcc299e2b74f5c5c182d">ImageInsert</a> (*raster,</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                               <a class="code" href="../../dc/d98/namespace_k_k_b.html#af5b668ed9902d7f93b62529664a739f0">osGetRootName</a> (imageFileName),</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                               sipperRootName,</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                               extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a9ddc3403f77e9d2e24a4623ab783921a">ByteOffsetFirstScanRow</a> (),</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                               extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#ab34346434df02259d2d6da7a91056820">SipperFileScanRow</a> (),</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                               extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a0e35e03141d9e348adaae5ffedd7d602">SipperFileScanCol</a> (),</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                               raster-&gt;<a class="code" href="../../d9/d61/class_k_k_b_1_1_raster.html#af8d10d15697d5b92fb9595c48b529feb">Height</a> (),</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                               raster-&gt;<a class="code" href="../../d9/d61/class_k_k_b_1_1_raster.html#aa2780c0b7ae75b7b595f99329689c1f6">Width</a>  (),</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                               extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a97d251710b1e09fc63c96011503aa391">PixelCount</a> (),</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                               <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a0c07a94997010decafe9d794ae9c01e8">ConnectedPixelDist</a> (),</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                               <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a7a547e5803bf2dee8d27dba6c5218453">extractionManager</a>-&gt;<a class="code" href="../../d3/d4a/class_image_extraction_manager_1_1_extraction_manager.html#a1330fc2144b49993a9ab4fa7603f6e86">LogEntryId</a> (),</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                               <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a7a547e5803bf2dee8d27dba6c5218453">extractionManager</a>-&gt;<a class="code" href="../../d3/d4a/class_image_extraction_manager_1_1_extraction_manager.html#a1330fc2144b49993a9ab4fa7603f6e86">LogEntryId</a> (),         <span class="comment">// Classification Update LogEntryID</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                               (<a class="code" href="../../dc/d98/namespace_k_k_b.html#a8fa4952cc84fda1de4bec1fbdd8d5b1b">kkint32</a>)(featureVector-&gt;<a class="code" href="../../d3/dc7/class_m_l_l_1_1_image_features.html#a97bb42792361e4b5d8df4c7d9cda1e9a">CentroidRow</a> () + 0.5f),</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                               (<a class="code" href="../../dc/d98/namespace_k_k_b.html#a8fa4952cc84fda1de4bec1fbdd8d5b1b">kkint32</a>)(featureVector-&gt;<a class="code" href="../../d3/dc7/class_m_l_l_1_1_image_features.html#af2a968993b9369d66305daf739695921">CentroidCol</a> () + 0.5f),</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                               extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a4e6c8b634eb29b18e864b774a1dbb57f">PredClass1</a> (),</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                               extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a313b986419d7c5c9b6f7d6330b579e91">PredClass1Prob</a> (),</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                               extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#aa9e34bfbd0a93b636f241fa972174e57">PredClass2</a> (),</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                               extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#adc6c0b1440901b9f510cf1b5bff2ff5a">PredClass2Prob</a> (),</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                               NULL,                                     <span class="comment">// Validated Class</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                               featureVector-&gt;<a class="code" href="../../d3/dc7/class_m_l_l_1_1_image_features.html#ae081cb42e20bf85bd0450fe5878c07cf">Depth</a> (),</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                               0.0f,                                     <span class="comment">// imageSize</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                               NULL,                                     <span class="comment">// sizeCoordinates</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                               imageId,</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                               successful</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                              );</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;          <span class="keywordflow">if</span>  (!successful)</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;          {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            imageUpdated = <span class="keyword">false</span>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            updateFailures++;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <a class="code" href="../../dc/ddd/class_k_k_b_1_1_k_k_str.html">KKStr</a>  msg (100);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            msg &lt;&lt; <span class="stringliteral">&quot;Run    ***ERROR***   ImageInsert Failed   ErrorMessage[&quot;</span> </div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                &lt;&lt; dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a647114917993e8b74a1c2f8c4886ec4b">LastErrorDesc</a> () &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a8f6c004d6510b90e5eff9c34efd20967">AddMsg</a> (msg);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;          }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;          {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a1113f7acbeeffd161d9ddb1eeec15da7">FeatureDataInsertRow</a> (sipperRootName, *featureVector);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="keywordflow">if</span>  (!dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#ace2050cfde3ee6cf9a4bd4901850f58c">Valid</a> ())</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;              imageUpdated = <span class="keyword">false</span>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;              updateFailures++;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;              <a class="code" href="../../dc/ddd/class_k_k_b_1_1_k_k_str.html">KKStr</a>  msg (100);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;              msg &lt;&lt; <span class="stringliteral">&quot;Run    ***ERROR***   FeatureDataInsertRow Failed   ErrorMessage[&quot;</span> </div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                  &lt;&lt; dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a647114917993e8b74a1c2f8c4886ec4b">LastErrorDesc</a> () &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;              <a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a8f6c004d6510b90e5eff9c34efd20967">AddMsg</a> (msg);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;          }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordflow">try</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;          <span class="comment">// We will be giving ownership of &#39;featureVector&#39; to &#39;imageManager&#39;.</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;          imageManager-&gt;<a class="code" href="../../d3/d58/class_m_l_l_1_1_sipper_extraction_image_manager.html#a3577f494579c7a54dd88c5e18afefb4f">AddImage</a> (imageFileName, </div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                                  extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a4e6c8b634eb29b18e864b774a1dbb57f">PredClass1</a> (),</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                                  extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a97d251710b1e09fc63c96011503aa391">PixelCount</a> (),</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                                  extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a7eb91942cd103cb1ec9726d631f4ec8c">Depth</a> (),</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                                  featureVector,              <span class="comment">// imageManager will take ownership of image.</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                                  raster,</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                                  <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a469fb750312e310d1779b05c05dd91f8">Colorize</a> ()</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                                 );</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;          featureVector = NULL;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">catch</span> (...)</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;          <a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a8f6c004d6510b90e5eff9c34efd20967">AddMsg</a> (<span class="stringliteral">&quot;Run       Exception adding image to ImageManager.&quot;</span>);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordflow">if</span>  (imageUpdated)</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        ++imagesUpdated;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <span class="keywordflow">if</span>  (imageIsDuplicate)</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        ++duplicatesDetected;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keyword">delete</span>  raster;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      raster = NULL;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keyword">delete</span>  extractedImage; </div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    extractedImage = NULL;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    extractedImage = GetNextImageToUpdate ();</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a8b6636f59306caf89c24d9f756293d71">Status</a> (<a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a3f72bb1988ae5dd353b39260ae0acc72a7b7ecb39b9e110c2a31409a1672bad23">ThreadStatus::Stopping</a>);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keyword">delete</span>  dbConn;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  dbConn = NULL;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a8b6636f59306caf89c24d9f756293d71">Status</a> (<a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a3f72bb1988ae5dd353b39260ae0acc72ac23e2b09ebe6bf4cb5e2a9abe85c0be2">ThreadStatus::Stopped</a>);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a8f6c004d6510b90e5eff9c34efd20967">AddMsg</a> (<span class="stringliteral">&quot;Run    Exiting&quot;</span>);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;} <span class="comment">/* Run */</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="keywordtype">void</span>  DataBaseUpdateThread::ReFreshDataBaseImage (<span class="keyword">const</span> <a class="code" href="../../dc/ddd/class_k_k_b_1_1_k_k_str.html">KKStr</a>&amp;      imageFileName, </div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                                                  <span class="keyword">const</span> <a class="code" href="../../dc/ddd/class_k_k_b_1_1_k_k_str.html">KKStr</a>&amp;      sipperFileName, </div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                                                  <a class="code" href="../../d3/d8f/class_m_l_l_1_1_raster_sipper.html">RasterSipperPtr</a>   raster, </div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                                                  <a class="code" href="../../d3/dc7/class_m_l_l_1_1_image_features.html">ImageFeaturesPtr</a>  featureVector,</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                                                  <a class="code" href="../../dc/d98/namespace_k_k_b.html#a1f2b0568d3b63cc7697dcff73250113e">kkuint64</a>          byteOffset,</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                                                  <a class="code" href="../../dc/d98/namespace_k_k_b.html#af8d832f05c54994a1cce25bd5743e19a">kkuint32</a>          sipperTopRow,</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                                                  <a class="code" href="../../dc/d98/namespace_k_k_b.html#af8d832f05c54994a1cce25bd5743e19a">kkuint32</a>          sipperTopCol</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                                                 )</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;{</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="keywordflow">if</span>  (!dbConn)</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keywordtype">float</span>  centroidRow         = -1.0f;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordtype">float</span>  centroidCol         = -1.0f;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keywordtype">float</span>  centroidWeightedCol = -1.0f;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keywordtype">float</span>  centroidWeightedRow = -1.0f;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keywordtype">int</span>    imageId             = -1;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordtype">int</span>    size                = 0;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keywordtype">bool</span>   successful          = <span class="keyword">false</span>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordtype">int</span>    weight              = 0;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  raster-&gt;<a class="code" href="../../d9/d61/class_k_k_b_1_1_raster.html#a89e2ed864ff7030d55bf4c655de15636">CalcCentroid</a> (size, weight, centroidRow, centroidCol, centroidWeightedRow, centroidWeightedCol);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html">DataBaseImagePtr</a>  existingEntry = dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a8884f651e6492955260413461333084e">ImagesLocateClosestImage</a> (imageFileName);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keywordflow">if</span>  (existingEntry)</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#a7cc41bfbbc745d41d6f6672d7899edbc">PixelCount</a> ((<a class="code" href="../../dc/d98/namespace_k_k_b.html#ab8557ae1b1f2361659d82a890e2f8014">uint</a>)size);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#acc4de308444bf13fc1663c955ee159e8">ConnectedPixelDist</a> (<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a0c07a94997010decafe9d794ae9c01e8">ConnectedPixelDist</a> ());</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#a7892c1d826791480c2dd04e10cfa92a4">ExtractionLogEntryId</a> (<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a7a547e5803bf2dee8d27dba6c5218453">extractionManager</a>-&gt;<a class="code" href="../../d3/d4a/class_image_extraction_manager_1_1_extraction_manager.html#a1330fc2144b49993a9ab4fa7603f6e86">LogEntryId</a> ());</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#a4bd2070175e7392c6ca82732a78e2292">CentroidRow</a> ((<span class="keywordtype">int</span>)(centroidRow + 0.5f));</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#aaf12c3e19e1818d55827403f01aff6dc">CentroidCol</a> ((<span class="keywordtype">int</span>)(centroidCol + 0.5f));</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#ac3312bb92b2b21d4d6d6c35b15ac385d">ByteOffset</a>  (byteOffset);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#af30ce193611890b5772834d5ff36b494">TopLeftRow</a>  (sipperTopRow);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#acce8b8c79ba39edf10695e2a5f2432d3">TopLeftCol</a>  (sipperTopCol);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#acce638611f97a53f5f7c284c4c1f5306">Height</a>      (raster-&gt;<a class="code" href="../../d9/d61/class_k_k_b_1_1_raster.html#af8d10d15697d5b92fb9595c48b529feb">Height</a> ());</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#a526d9c29d5ba24d75df9a88bf56b917f">Width</a>       (raster-&gt;<a class="code" href="../../d9/d61/class_k_k_b_1_1_raster.html#aa2780c0b7ae75b7b595f99329689c1f6">Width</a>  ());</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a270b5ca60f2b1f4c29fa34b00a3cfd33">ImageUpdate</a> (*existingEntry, *raster);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">if</span>  (!dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#ace2050cfde3ee6cf9a4bd4901850f58c">Valid</a> ())</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      updateFailures++;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a8f6c004d6510b90e5eff9c34efd20967">AddMsg</a> (<span class="stringliteral">&quot;ReFreshDataBaseImage  &quot;</span> + dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a647114917993e8b74a1c2f8c4886ec4b">LastErrorDesc</a> ());</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  }</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>  (featureVector)</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a2cbf59941c3bdcc299e2b74f5c5c182d">ImageInsert</a> (*raster,</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                         <a class="code" href="../../dc/d98/namespace_k_k_b.html#af5b668ed9902d7f93b62529664a739f0">osGetRootName</a> (imageFileName),</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                         sipperRootName,</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                         byteOffset,       <span class="comment">// byteOffset,     // byteOffset of SipperRow containing TopLeftRow</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                         sipperTopRow,</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                         sipperTopCol,</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                         raster-&gt;<a class="code" href="../../d9/d61/class_k_k_b_1_1_raster.html#af8d10d15697d5b92fb9595c48b529feb">Height</a> (),</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                         raster-&gt;<a class="code" href="../../d9/d61/class_k_k_b_1_1_raster.html#aa2780c0b7ae75b7b595f99329689c1f6">Width</a>  (),</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                         (<a class="code" href="../../dc/d98/namespace_k_k_b.html#ab8557ae1b1f2361659d82a890e2f8014">uint</a>)(size),</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                         <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a0c07a94997010decafe9d794ae9c01e8">ConnectedPixelDist</a> (),</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                         <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a7a547e5803bf2dee8d27dba6c5218453">extractionManager</a>-&gt;<a class="code" href="../../d3/d4a/class_image_extraction_manager_1_1_extraction_manager.html#a1330fc2144b49993a9ab4fa7603f6e86">LogEntryId</a> (),    <span class="comment">// Image Extraction Log ID</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                         <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a7a547e5803bf2dee8d27dba6c5218453">extractionManager</a>-&gt;<a class="code" href="../../d3/d4a/class_image_extraction_manager_1_1_extraction_manager.html#a1330fc2144b49993a9ab4fa7603f6e86">LogEntryId</a> (),    <span class="comment">// Log Entry for classification.</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                         (<a class="code" href="../../dc/d98/namespace_k_k_b.html#ab8557ae1b1f2361659d82a890e2f8014">uint</a>)(centroidRow + 0.5f),</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                         (<a class="code" href="../../dc/d98/namespace_k_k_b.html#ab8557ae1b1f2361659d82a890e2f8014">uint</a>)(centroidCol + 0.5f),</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                         featureVector-&gt;<a class="code" href="../../dc/d09/class_k_k_m_l_l_1_1_feature_vector.html#a3ec4b39405a2904c966a505c391cff33">PredictedClass</a> (),</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                         featureVector-&gt;<a class="code" href="../../dc/d09/class_k_k_m_l_l_1_1_feature_vector.html#ad999f89e685b334967fa114d2e827507">Probability</a> (),</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                         NULL,</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                         0.0f,</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                         NULL,</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                         featureVector-&gt;<a class="code" href="../../d3/dc7/class_m_l_l_1_1_image_features.html#ae081cb42e20bf85bd0450fe5878c07cf">Depth</a> (),</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                         0.0f,                      <span class="comment">// imageSize</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                         NULL,                      <span class="comment">// SizeCoordinates</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                         imageId,</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                         successful</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                        );</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">if</span>  (!dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#ace2050cfde3ee6cf9a4bd4901850f58c">Valid</a> ())</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      updateFailures++;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <a class="code" href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a8f6c004d6510b90e5eff9c34efd20967">AddMsg</a> (<span class="stringliteral">&quot;ReFreshDataBaseImage  &quot;</span> + dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a647114917993e8b74a1c2f8c4886ec4b">LastErrorDesc</a> ());</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  }</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keyword">delete</span>  existingEntry;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  existingEntry = NULL;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}  <span class="comment">/* ReFreshDataBaseImage */</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="ttc" id="class_image_extraction_manager_1_1_image_extraction_thread_html_a7a547e5803bf2dee8d27dba6c5218453"><div class="ttname"><a href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a7a547e5803bf2dee8d27dba6c5218453">ImageExtractionManager::ImageExtractionThread::extractionManager</a></div><div class="ttdeci">ExtractionManagerPtr extractionManager</div><div class="ttdoc">Pointer to instance that manages all the threads. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4a/_image_extraction_thread_8h_source.html#l00044">ImageExtractionThread.h:44</a></div></div>
<div class="ttc" id="class_k_k_m_l_l_1_1_feature_vector_html_ab47c89ab1e9396664fdc0dc34b6e1ab5"><div class="ttname"><a href="../../dc/d09/class_k_k_m_l_l_1_1_feature_vector.html#ab47c89ab1e9396664fdc0dc34b6e1ab5">KKMLL::FeatureVector::ExampleFileName</a></div><div class="ttdeci">void ExampleFileName(const KKStr &amp;_exampleFileName)</div><div class="ttdoc">Name of source of feature vector, ex: file name of image that the feature vector was computed from...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/ddf/_feature_vector_8h_source.html#l00075">FeatureVector.h:75</a></div></div>
<div class="ttc" id="namespace_k_k_b_html_a8ff1520db9e1af7f725bd711edca9024"><div class="ttname"><a href="../../dc/d98/namespace_k_k_b.html#a8ff1520db9e1af7f725bd711edca9024">KKB::osDeleteFile</a></div><div class="ttdeci">bool osDeleteFile(KKStr _fileName)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7a/_o_sservices_8cpp_source.html#l00523">OSservices.cpp:523</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_acce638611f97a53f5f7c284c4c1f5306"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#acce638611f97a53f5f7c284c4c1f5306">MLL::DataBaseImage::Height</a></div><div class="ttdeci">kkuint32 Height() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00072">DataBaseImage.h:72</a></div></div>
<div class="ttc" id="class_k_k_m_l_l_1_1_feature_vector_list_html_abd43779a90a6aa3db1de8092be877bdb"><div class="ttname"><a href="../../d7/df1/class_k_k_m_l_l_1_1_feature_vector_list.html#abd43779a90a6aa3db1de8092be877bdb">KKMLL::FeatureVectorList::PushOnBack</a></div><div class="ttdeci">void PushOnBack(FeatureVectorPtr image)</div><div class="ttdoc">Overloading the PushOnBack function in KKQueue so we can monitor the Version and Sort Order...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6a/_feature_vector_8cpp_source.html#l00598">FeatureVector.cpp:598</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_a4bd2070175e7392c6ca82732a78e2292"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#a4bd2070175e7392c6ca82732a78e2292">MLL::DataBaseImage::CentroidRow</a></div><div class="ttdeci">kkuint32 CentroidRow() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00059">DataBaseImage.h:59</a></div></div>
<div class="ttc" id="class_k_k_b_1_1_k_k_thread_html_a3f72bb1988ae5dd353b39260ae0acc72a7b7ecb39b9e110c2a31409a1672bad23"><div class="ttname"><a href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a3f72bb1988ae5dd353b39260ae0acc72a7b7ecb39b9e110c2a31409a1672bad23">KKB::KKThread::ThreadStatus::Stopping</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_parms_html_a0c07a94997010decafe9d794ae9c01e8"><div class="ttname"><a href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a0c07a94997010decafe9d794ae9c01e8">ImageExtractionManager::ExtractionParms::ConnectedPixelDist</a></div><div class="ttdeci">kkuint32 ConnectedPixelDist() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da4/_extraction_parms_8h_source.html#l00070">ExtractionParms.h:70</a></div></div>
<div class="ttc" id="class_k_k_m_l_l_1_1_file_desc_html"><div class="ttname"><a href="../../da/ddb/class_k_k_m_l_l_1_1_file_desc.html">KKMLL::FileDesc</a></div><div class="ttdoc">Provides a detailed description of the attributes of a dataset. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d75/_file_desc_8h_source.html#l00072">FileDesc.h:72</a></div></div>
<div class="ttc" id="class_k_k_b_1_1_k_k_thread_html_a3f72bb1988ae5dd353b39260ae0acc72ac23e2b09ebe6bf4cb5e2a9abe85c0be2"><div class="ttname"><a href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a3f72bb1988ae5dd353b39260ae0acc72ac23e2b09ebe6bf4cb5e2a9abe85c0be2">KKB::KKThread::ThreadStatus::Stopped</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_parms_html_a266513499e197eaacac5d4ca11f556e0"><div class="ttname"><a href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a266513499e197eaacac5d4ca11f556e0">ImageExtractionManager::ExtractionParms::OutputRootDir</a></div><div class="ttdeci">const KKStr &amp; OutputRootDir() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da4/_extraction_parms_8h_source.html#l00084">ExtractionParms.h:84</a></div></div>
<div class="ttc" id="class_k_k_b_1_1_k_k_thread_html_a8b6636f59306caf89c24d9f756293d71"><div class="ttname"><a href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a8b6636f59306caf89c24d9f756293d71">KKB::KKThread::Status</a></div><div class="ttdeci">ThreadStatus Status() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d88/_k_k_thread_8h_source.html#l00072">KKThread.h:72</a></div></div>
<div class="ttc" id="_memory_debug_8h_html"><div class="ttname"><a href="../../d8/d84/_memory_debug_8h.html">MemoryDebug.h</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_manager_html"><div class="ttname"><a href="../../d3/d4a/class_image_extraction_manager_1_1_extraction_manager.html">ImageExtractionManager::ExtractionManager</a></div><div class="ttdoc">Manages the extraction of images from a single Sipper File utilizing multiple threads. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7c/_extraction_manager_8h_source.html#l00033">ExtractionManager.h:33</a></div></div>
<div class="ttc" id="namespace_k_k_b_html_a8fa4952cc84fda1de4bec1fbdd8d5b1b"><div class="ttname"><a href="../../dc/d98/namespace_k_k_b.html#a8fa4952cc84fda1de4bec1fbdd8d5b1b">KKB::kkint32</a></div><div class="ttdeci">__int32 kkint32</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d46/_k_k_base_types_8h_source.html#l00088">KKBaseTypes.h:88</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_a7cc41bfbbc745d41d6f6672d7899edbc"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#a7cc41bfbbc745d41d6f6672d7899edbc">MLL::DataBaseImage::PixelCount</a></div><div class="ttdeci">kkuint32 PixelCount() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00076">DataBaseImage.h:76</a></div></div>
<div class="ttc" id="class_k_k_b_1_1_k_k_thread_html_a1cc302487fe9e7fe79e7e6b056d3e7d1"><div class="ttname"><a href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a1cc302487fe9e7fe79e7e6b056d3e7d1">KKB::KKThread::Crashed</a></div><div class="ttdeci">bool Crashed() const </div><div class="ttdoc">Signifies that this thread had to terminate on its own because of an abnormal situation; such as a me...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d88/_k_k_thread_8h_source.html#l00062">KKThread.h:62</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_adc6c0b1440901b9f510cf1b5bff2ff5a"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#adc6c0b1440901b9f510cf1b5bff2ff5a">ImageExtractionManager::ExtractedImage::PredClass2Prob</a></div><div class="ttdeci">float PredClass2Prob() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00051">ExtractedImage.h:51</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_html_a8884f651e6492955260413461333084e"><div class="ttname"><a href="../../d8/db8/class_m_l_l_1_1_data_base.html#a8884f651e6492955260413461333084e">MLL::DataBase::ImagesLocateClosestImage</a></div><div class="ttdeci">DataBaseImagePtr ImagesLocateClosestImage(const KKStr &amp;imageFileName)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6d/_data_base_8cpp_source.html#l03582">DataBase.cpp:3582</a></div></div>
<div class="ttc" id="_run_log_8h_html"><div class="ttname"><a href="../../d5/d3a/_run_log_8h.html">RunLog.h</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_html_ace2050cfde3ee6cf9a4bd4901850f58c"><div class="ttname"><a href="../../d8/db8/class_m_l_l_1_1_data_base.html#ace2050cfde3ee6cf9a4bd4901850f58c">MLL::DataBase::Valid</a></div><div class="ttdeci">bool Valid() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df5/_data_base_8h_source.html#l00126">DataBase.h:126</a></div></div>
<div class="ttc" id="class_k_k_b_1_1_raster_html_a89e2ed864ff7030d55bf4c655de15636"><div class="ttname"><a href="../../d9/d61/class_k_k_b_1_1_raster.html#a89e2ed864ff7030d55bf4c655de15636">KKB::Raster::CalcCentroid</a></div><div class="ttdeci">void CalcCentroid(kkint32 &amp;size, kkint32 &amp;weight, float &amp;rowCenter, float &amp;colCenter, float &amp;rowCenterWeighted, float &amp;colCenterWeighted) const </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/_raster_8cpp_source.html#l05977">Raster.cpp:5977</a></div></div>
<div class="ttc" id="_file_desc_8h_html"><div class="ttname"><a href="../../d1/d75/_file_desc_8h.html">FileDesc.h</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_html_a2cbf59941c3bdcc299e2b74f5c5c182d"><div class="ttname"><a href="../../d8/db8/class_m_l_l_1_1_data_base.html#a2cbf59941c3bdcc299e2b74f5c5c182d">MLL::DataBase::ImageInsert</a></div><div class="ttdeci">void ImageInsert(const RasterSipper &amp;image, const KKStr &amp;imageFileName, const KKStr &amp;sipperFileName, kkuint64 byteOffset, kkuint32 topLeftRow, kkuint32 topLeftCol, kkuint32 height, kkuint32 width, kkuint32 pixelCount, uchar connectedPixelDist, kkuint32 extractionLogEntryId, kkuint32 classLogEntryId, kkuint32 centroidRow, kkuint32 centroidCol, MLClassPtr class1, float class1Prob, MLClassPtr class2, float class2Prob, MLClassPtr validatedClass, float depth, float imageSize, PointListPtr sizeCoordinates, kkint32 &amp;imageId, bool &amp;successful)</div><div class="ttdoc">Creates and entry in the Images table for &amp;#39;image&amp;#39;, if either dimension of &amp;#39;image&amp;#39; exceeds 100 it will...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6d/_data_base_8cpp_source.html#l02847">DataBase.cpp:2847</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_ab34346434df02259d2d6da7a91056820"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#ab34346434df02259d2d6da7a91056820">ImageExtractionManager::ExtractedImage::SipperFileScanRow</a></div><div class="ttdeci">kkuint32 SipperFileScanRow() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00052">ExtractedImage.h:52</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_ac3312bb92b2b21d4d6d6c35b15ac385d"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#ac3312bb92b2b21d4d6d6c35b15ac385d">MLL::DataBaseImage::ByteOffset</a></div><div class="ttdeci">osFilePos ByteOffset() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00057">DataBaseImage.h:57</a></div></div>
<div class="ttc" id="_first_includes_8h_html"><div class="ttname"><a href="../../db/da0/_first_includes_8h.html">FirstIncludes.h</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_parms_html_aa4baa63971c3795b2fbb9590008ddb62"><div class="ttname"><a href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#aa4baa63971c3795b2fbb9590008ddb62">ImageExtractionManager::ExtractionParms::DataBaseServer</a></div><div class="ttdeci">DataBaseServerPtr DataBaseServer() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da4/_extraction_parms_8h_source.html#l00072">ExtractionParms.h:72</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_parms_html"><div class="ttname"><a href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html">ImageExtractionManager::ExtractionParms</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da4/_extraction_parms_8h_source.html#l00027">ExtractionParms.h:27</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="../../d8/dcc/namespacestd.html">std</a></div><div class="ttdoc">STL namespace. </div></div>
<div class="ttc" id="namespace_m_l_l_html"><div class="ttname"><a href="../../d7/dcc/namespace_m_l_l.html">MLL</a></div><div class="ttdoc">Namespace for all Machine Learning and SIPPER specific code. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbf/_abundance_correction_matrix_8h_source.html#l00012">AbundanceCorrectionMatrix.h:12</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_manager_html_a1330fc2144b49993a9ab4fa7603f6e86"><div class="ttname"><a href="../../d3/d4a/class_image_extraction_manager_1_1_extraction_manager.html#a1330fc2144b49993a9ab4fa7603f6e86">ImageExtractionManager::ExtractionManager::LogEntryId</a></div><div class="ttdeci">kkuint32 LogEntryId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7c/_extraction_manager_8h_source.html#l00049">ExtractionManager.h:49</a></div></div>
<div class="ttc" id="_extraction_parms_8h_html"><div class="ttname"><a href="../../dd/da4/_extraction_parms_8h.html">ExtractionParms.h</a></div></div>
<div class="ttc" id="_duplicate_images_8h_html"><div class="ttname"><a href="../../dd/dbc/_duplicate_images_8h.html">DuplicateImages.h</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_acc4de308444bf13fc1663c955ee159e8"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#acc4de308444bf13fc1663c955ee159e8">MLL::DataBaseImage::ConnectedPixelDist</a></div><div class="ttdeci">uchar ConnectedPixelDist() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00067">DataBaseImage.h:67</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_html"><div class="ttname"><a href="../../d8/db8/class_m_l_l_1_1_data_base.html">MLL::DataBase</a></div><div class="ttdoc">DataBase connection management object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df5/_data_base_8h_source.html#l00076">DataBase.h:76</a></div></div>
<div class="ttc" id="namespace_image_extraction_manager_html"><div class="ttname"><a href="../../d0/d9d/namespace_image_extraction_manager.html">ImageExtractionManager</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d26/_data_base_update_thread_8h_source.html#l00023">DataBaseUpdateThread.h:23</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_data_base_update_thread_html_aea45ab8f59b2573f13b248b91bd0d7fd"><div class="ttname"><a href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#aea45ab8f59b2573f13b248b91bd0d7fd">ImageExtractionManager::DataBaseUpdateThread::GetRunTimeStats</a></div><div class="ttdeci">void GetRunTimeStats(kkuint32 &amp;_imagesUpdated, kkuint32 &amp;_duplicatesDetected, kkuint32 &amp;_updateFailures)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d65/_data_base_update_thread_8cpp_source.html#l00094">DataBaseUpdateThread.cpp:94</a></div></div>
<div class="ttc" id="namespace_k_k_b_html_ab8557ae1b1f2361659d82a890e2f8014"><div class="ttname"><a href="../../dc/d98/namespace_k_k_b.html#ab8557ae1b1f2361659d82a890e2f8014">KKB::uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdoc">Unsigned integer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d46/_k_k_base_types_8h_source.html#l00078">KKBaseTypes.h:78</a></div></div>
<div class="ttc" id="namespace_k_k_b_html_af8d832f05c54994a1cce25bd5743e19a"><div class="ttname"><a href="../../dc/d98/namespace_k_k_b.html#af8d832f05c54994a1cce25bd5743e19a">KKB::kkuint32</a></div><div class="ttdeci">unsigned __int32 kkuint32</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d46/_k_k_base_types_8h_source.html#l00089">KKBaseTypes.h:89</a></div></div>
<div class="ttc" id="namespace_k_k_b_html_a1a3717b963b0813e96b66d1953fce1af"><div class="ttname"><a href="../../dc/d98/namespace_k_k_b.html#a1a3717b963b0813e96b66d1953fce1af">KKB::osSleep</a></div><div class="ttdeci">void osSleep(float numOfSecs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7a/_o_sservices_8cpp_source.html#l02764">OSservices.cpp:2764</a></div></div>
<div class="ttc" id="class_k_k_m_l_l_1_1_duplicate_image_html_ab005d27fa527c46b5b15fd77945680eb"><div class="ttname"><a href="../../d0/d73/class_k_k_m_l_l_1_1_duplicate_image.html#ab005d27fa527c46b5b15fd77945680eb">KKMLL::DuplicateImage::FirstExampleAdded</a></div><div class="ttdeci">FeatureVectorPtr FirstExampleAdded()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbc/_duplicate_images_8h_source.html#l00144">DuplicateImages.h:144</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_a313b986419d7c5c9b6f7d6330b579e91"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a313b986419d7c5c9b6f7d6330b579e91">ImageExtractionManager::ExtractedImage::PredClass1Prob</a></div><div class="ttdeci">float PredClass1Prob() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00049">ExtractedImage.h:49</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_parms_html_a4d77ed82ae52041c961b61ad36798fe5"><div class="ttname"><a href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a4d77ed82ae52041c961b61ad36798fe5">ImageExtractionManager::ExtractionParms::UpdateDataBase</a></div><div class="ttdeci">bool UpdateDataBase() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da4/_extraction_parms_8h_source.html#l00093">ExtractionParms.h:93</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_sipper_extraction_image_manager_html"><div class="ttname"><a href="../../d3/d58/class_m_l_l_1_1_sipper_extraction_image_manager.html">MLL::SipperExtractionImageManager</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dad/_sipper_extraction_image_manager_8h_source.html#l00016">SipperExtractionImageManager.h:16</a></div></div>
<div class="ttc" id="class_k_k_b_1_1_k_k_thread_html_a3f72bb1988ae5dd353b39260ae0acc72a5bda814c4aedb126839228f1a3d92f09"><div class="ttname"><a href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a3f72bb1988ae5dd353b39260ae0acc72a5bda814c4aedb126839228f1a3d92f09">KKB::KKThread::ThreadStatus::Running</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_queue_html_a3ef8b895c9c37e9fd80bbdc4b92ffe04"><div class="ttname"><a href="../../d8/d06/class_image_extraction_manager_1_1_extracted_image_queue.html#a3ef8b895c9c37e9fd80bbdc4b92ffe04">ImageExtractionManager::ExtractedImageQueue::GetNextExtractedImage</a></div><div class="ttdeci">ExtractedImagePtr GetNextExtractedImage()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/_extracted_image_8cpp_source.html#l00188">ExtractedImage.cpp:188</a></div></div>
<div class="ttc" id="class_k_k_b_1_1_raster_html_af8d10d15697d5b92fb9595c48b529feb"><div class="ttname"><a href="../../d9/d61/class_k_k_b_1_1_raster.html#af8d10d15697d5b92fb9595c48b529feb">KKB::Raster::Height</a></div><div class="ttdeci">kkint32 Height() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/ddd/_raster_8h_source.html#l00319">Raster.h:319</a></div></div>
<div class="ttc" id="namespace_k_k_b_html_aa0d40119b911df4283399a1724cab1ef"><div class="ttname"><a href="../../dc/d98/namespace_k_k_b.html#aa0d40119b911df4283399a1724cab1ef">KKB::osAddSlash</a></div><div class="ttdeci">KKB::KKStr osAddSlash(const KKStr &amp;fileSpec)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7a/_o_sservices_8cpp_source.html#l01055">OSservices.cpp:1055</a></div></div>
<div class="ttc" id="_o_sservices_8h_html"><div class="ttname"><a href="../../d6/dfa/_o_sservices_8h.html">OSservices.h</a></div><div class="ttdoc">General module for functions that interact with a specific operating system. </div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_a97d251710b1e09fc63c96011503aa391"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a97d251710b1e09fc63c96011503aa391">ImageExtractionManager::ExtractedImage::PixelCount</a></div><div class="ttdeci">kkuint32 PixelCount() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00047">ExtractedImage.h:47</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_image_features_html_ae081cb42e20bf85bd0450fe5878c07cf"><div class="ttname"><a href="../../d3/dc7/class_m_l_l_1_1_image_features.html#ae081cb42e20bf85bd0450fe5878c07cf">MLL::ImageFeatures::Depth</a></div><div class="ttdeci">void Depth(FVFloat _depth)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/deb/_image_features_8h_source.html#l00146">ImageFeatures.h:146</a></div></div>
<div class="ttc" id="namespace_k_k_b_html"><div class="ttname"><a href="../../dc/d98/namespace_k_k_b.html">KKB</a></div><div class="ttdoc">KKB The namespace for KKBase Library supporting general functionality needed by almost any applicatio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da3/_application_8h_source.html#l00015">Application.h:15</a></div></div>
<div class="ttc" id="namespace_k_k_b_html_a43b1434ebafb3a632b4957ef8313976e"><div class="ttname"><a href="../../dc/d98/namespace_k_k_b.html#a43b1434ebafb3a632b4957ef8313976e">KKB::SaveImageGrayscaleInverted4Bit</a></div><div class="ttdeci">void SaveImageGrayscaleInverted4Bit(const Raster &amp;image, const KKStr &amp;_fileName)</div><div class="ttdoc">Saves image as BMP file using 4 bit compressed gray-scale where Background = 255 and foreground = 0...</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd2/_image_i_o_8cpp_source.html#l00874">ImageIO.cpp:874</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_data_base_update_thread_html_a8760181ccecde4b7075c7f61ffe9681e"><div class="ttname"><a href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#a8760181ccecde4b7075c7f61ffe9681e">ImageExtractionManager::DataBaseUpdateThread::Run</a></div><div class="ttdeci">virtual void Run()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d65/_data_base_update_thread_8cpp_source.html#l00123">DataBaseUpdateThread.cpp:123</a></div></div>
<div class="ttc" id="class_k_k_b_1_1_k_k_thread_html_a85dcfd92879c8f74102af810cc44628b"><div class="ttname"><a href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a85dcfd92879c8f74102af810cc44628b">KKB::KKThread::CancelFlag</a></div><div class="ttdeci">VolConstBool &amp; CancelFlag() const </div><div class="ttdoc">Another name for &amp;#39;TerminateFlag&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d88/_k_k_thread_8h_source.html#l00060">KKThread.h:60</a></div></div>
<div class="ttc" id="_m_l_class_8h_html"><div class="ttname"><a href="../../d3/dd8/_m_l_class_8h.html">MLClass.h</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_parms_html_a408aaf5d9e16e694bc400d0b09187c9a"><div class="ttname"><a href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a408aaf5d9e16e694bc400d0b09187c9a">ImageExtractionManager::ExtractionParms::ExtractFeatureData</a></div><div class="ttdeci">bool ExtractFeatureData() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da4/_extraction_parms_8h_source.html#l00075">ExtractionParms.h:75</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_sipper_extraction_image_manager_html_a3577f494579c7a54dd88c5e18afefb4f"><div class="ttname"><a href="../../d3/d58/class_m_l_l_1_1_sipper_extraction_image_manager.html#a3577f494579c7a54dd88c5e18afefb4f">MLL::SipperExtractionImageManager::AddImage</a></div><div class="ttdeci">void AddImage(const KKStr &amp;fileName, MLClassPtr predClass, kkint32 size, float depth, ImageFeaturesPtr example, RasterPtr raster, bool colorize)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd9/_sipper_extraction_image_manager_8cpp_source.html#l00305">SipperExtractionImageManager.cpp:305</a></div></div>
<div class="ttc" id="class_k_k_b_1_1_k_k_thread_html_a3f72bb1988ae5dd353b39260ae0acc72ac2efe4bbd13e6cb0db293e72884273c0"><div class="ttname"><a href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a3f72bb1988ae5dd353b39260ae0acc72ac2efe4bbd13e6cb0db293e72884273c0">KKB::KKThread::ThreadStatus::Starting</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_parms_html_a469fb750312e310d1779b05c05dd91f8"><div class="ttname"><a href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a469fb750312e310d1779b05c05dd91f8">ImageExtractionManager::ExtractionParms::Colorize</a></div><div class="ttdeci">bool Colorize() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da4/_extraction_parms_8h_source.html#l00067">ExtractionParms.h:67</a></div></div>
<div class="ttc" id="class_k_k_b_1_1_k_k_str_html_ac69942f73fffd672ec2a6e1c410afdb6"><div class="ttname"><a href="../../dc/ddd/class_k_k_b_1_1_k_k_str.html#ac69942f73fffd672ec2a6e1c410afdb6">KKB::KKStr::Empty</a></div><div class="ttdeci">bool Empty() const </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df5/_k_k_str_8h_source.html#l00241">KKStr.h:241</a></div></div>
<div class="ttc" id="class_k_k_b_1_1_raster_html_a847b09bd1487b61bf126d7732f3694f2"><div class="ttname"><a href="../../d9/d61/class_k_k_b_1_1_raster.html#a847b09bd1487b61bf126d7732f3694f2">KKB::Raster::FileName</a></div><div class="ttdeci">const KKStr &amp; FileName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/ddd/_raster_8h_source.html#l00315">Raster.h:315</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_queue_html"><div class="ttname"><a href="../../d8/d06/class_image_extraction_manager_1_1_extracted_image_queue.html">ImageExtractionManager::ExtractedImageQueue</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00095">ExtractedImage.h:95</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_a7892c1d826791480c2dd04e10cfa92a4"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#a7892c1d826791480c2dd04e10cfa92a4">MLL::DataBaseImage::ExtractionLogEntryId</a></div><div class="ttdeci">kkuint32 ExtractionLogEntryId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00071">DataBaseImage.h:71</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_a526d9c29d5ba24d75df9a88bf56b917f"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#a526d9c29d5ba24d75df9a88bf56b917f">MLL::DataBaseImage::Width</a></div><div class="ttdeci">kkuint32 Width() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00085">DataBaseImage.h:85</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_html_a1113f7acbeeffd161d9ddb1eeec15da7"><div class="ttname"><a href="../../d8/db8/class_m_l_l_1_1_data_base.html#a1113f7acbeeffd161d9ddb1eeec15da7">MLL::DataBase::FeatureDataInsertRow</a></div><div class="ttdeci">void FeatureDataInsertRow(const KKStr &amp;_sipperFileName, const ImageFeatures &amp;example)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6d/_data_base_8cpp_source.html#l01809">DataBase.cpp:1809</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_image_extraction_thread_html"><div class="ttname"><a href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html">ImageExtractionManager::ImageExtractionThread</a></div><div class="ttdoc">The base class to be used by all Extraction Manager threads. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4a/_image_extraction_thread_8h_source.html#l00020">ImageExtractionThread.h:20</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_data_base_update_thread_html_aea46d2b5966c876767bb032413500136"><div class="ttname"><a href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#aea46d2b5966c876767bb032413500136">ImageExtractionManager::DataBaseUpdateThread::~DataBaseUpdateThread</a></div><div class="ttdeci">virtual ~DataBaseUpdateThread()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d65/_data_base_update_thread_8cpp_source.html#l00085">DataBaseUpdateThread.cpp:85</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_image_features_html_a97bb42792361e4b5d8df4c7d9cda1e9a"><div class="ttname"><a href="../../d3/dc7/class_m_l_l_1_1_image_features.html#a97bb42792361e4b5d8df4c7d9cda1e9a">MLL::ImageFeatures::CentroidRow</a></div><div class="ttdeci">void CentroidRow(FVFloat _centroidRow)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/deb/_image_features_8h_source.html#l00144">ImageFeatures.h:144</a></div></div>
<div class="ttc" id="class_k_k_b_1_1_k_k_thread_html_ac2f537ffb0162014816a7b446417bbd7"><div class="ttname"><a href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#ac2f537ffb0162014816a7b446417bbd7">KKB::KKThread::ShutdownOrTerminateRequested</a></div><div class="ttdeci">bool ShutdownOrTerminateRequested()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d88/_k_k_thread_8h_source.html#l00148">KKThread.h:148</a></div></div>
<div class="ttc" id="_extraction_manager_8h_html"><div class="ttname"><a href="../../df/d7c/_extraction_manager_8h.html">ExtractionManager.h</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_a7eb91942cd103cb1ec9726d631f4ec8c"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a7eb91942cd103cb1ec9726d631f4ec8c">ImageExtractionManager::ExtractedImage::Depth</a></div><div class="ttdeci">float Depth() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00044">ExtractedImage.h:44</a></div></div>
<div class="ttc" id="_image_i_o_8h_html"><div class="ttname"><a href="../../d6/d7d/_image_i_o_8h.html">ImageIO.h</a></div><div class="ttdoc">Methods for reading and writing Images. </div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_afe3a3a0c3cb208d2080e31f84b9691c9"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#afe3a3a0c3cb208d2080e31f84b9691c9">ImageExtractionManager::ExtractedImage::ImageGiveOwnership</a></div><div class="ttdeci">RasterSipperPtr ImageGiveOwnership()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/_extracted_image_8cpp_source.html#l00099">ExtractedImage.cpp:99</a></div></div>
<div class="ttc" id="class_k_k_b_1_1_msg_queue_html"><div class="ttname"><a href="../../dc/d85/class_k_k_b_1_1_msg_queue.html">KKB::MsgQueue</a></div><div class="ttdoc">Will manage a buffer that will allow multiple threads to add and remove messages to a queue...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d28/_msg_queue_8h_source.html#l00019">MsgQueue.h:19</a></div></div>
<div class="ttc" id="namespace_k_k_m_l_l_html"><div class="ttname"><a href="../../d1/d5c/namespace_k_k_m_l_l.html">KKMLL</a></div><div class="ttdoc">Namespace for all K^2 Machine Learning code. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/_attribute_8h_source.html#l00034">Attribute.h:34</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_acce8b8c79ba39edf10695e2a5f2432d3"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#acce8b8c79ba39edf10695e2a5f2432d3">MLL::DataBaseImage::TopLeftCol</a></div><div class="ttdeci">kkuint32 TopLeftCol() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00082">DataBaseImage.h:82</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html">ImageExtractionManager::ExtractedImage</a></div><div class="ttdoc">Represents particle that was extracted by &amp;#39;LogicalFrame&amp;#39; with its related data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00024">ExtractedImage.h:24</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_a0e35e03141d9e348adaae5ffedd7d602"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a0e35e03141d9e348adaae5ffedd7d602">ImageExtractionManager::ExtractedImage::SipperFileScanCol</a></div><div class="ttdeci">kkuint32 SipperFileScanCol() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00053">ExtractedImage.h:53</a></div></div>
<div class="ttc" id="_k_k_base_types_8h_html"><div class="ttname"><a href="../../d3/d46/_k_k_base_types_8h.html">KKBaseTypes.h</a></div><div class="ttdoc">This include file contains common definitions that are used by all classes in KKBaseLibrery. </div></div>
<div class="ttc" id="namespace_k_k_b_html_a1f2b0568d3b63cc7697dcff73250113e"><div class="ttname"><a href="../../dc/d98/namespace_k_k_b.html#a1f2b0568d3b63cc7697dcff73250113e">KKB::kkuint64</a></div><div class="ttdeci">unsigned __int64 kkuint64</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d46/_k_k_base_types_8h_source.html#l00091">KKBaseTypes.h:91</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_image_extraction_thread_html_a4987dc8eb89710236aad657237f02a77"><div class="ttname"><a href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">ImageExtractionManager::ImageExtractionThread::parms</a></div><div class="ttdeci">ExtractionParms &amp; parms</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4a/_image_extraction_thread_8h_source.html#l00046">ImageExtractionThread.h:46</a></div></div>
<div class="ttc" id="class_k_k_m_l_l_1_1_duplicate_images_html_a3cee9fd28e260d337c6c37e683bdda1d"><div class="ttname"><a href="../../d3/d3f/class_k_k_m_l_l_1_1_duplicate_images.html#a3cee9fd28e260d337c6c37e683bdda1d">KKMLL::DuplicateImages::AddSingleExample</a></div><div class="ttdeci">DuplicateImagePtr AddSingleExample(FeatureVectorPtr example)</div><div class="ttdoc">Add one more FeatureVector to the list. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/_duplicate_images_8cpp_source.html#l00111">DuplicateImages.cpp:111</a></div></div>
<div class="ttc" id="class_k_k_m_l_l_1_1_feature_vector_html_ad999f89e685b334967fa114d2e827507"><div class="ttname"><a href="../../dc/d09/class_k_k_m_l_l_1_1_feature_vector.html#ad999f89e685b334967fa114d2e827507">KKMLL::FeatureVector::Probability</a></div><div class="ttdeci">void Probability(float _probability)</div><div class="ttdoc">Assign a prediction probability to this example. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/ddf/_feature_vector_8h_source.html#l00079">FeatureVector.h:79</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_a9ddc3403f77e9d2e24a4623ab783921a"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a9ddc3403f77e9d2e24a4623ab783921a">ImageExtractionManager::ExtractedImage::ByteOffsetFirstScanRow</a></div><div class="ttdeci">kkuint64 ByteOffsetFirstScanRow() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00043">ExtractedImage.h:43</a></div></div>
<div class="ttc" id="_image_features_8h_html"><div class="ttname"><a href="../../de/deb/_image_features_8h.html">ImageFeatures.h</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_af30ce193611890b5772834d5ff36b494"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#af30ce193611890b5772834d5ff36b494">MLL::DataBaseImage::TopLeftRow</a></div><div class="ttdeci">kkuint32 TopLeftRow() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00081">DataBaseImage.h:81</a></div></div>
<div class="ttc" id="class_k_k_b_1_1_k_k_thread_html_a271dba95d3432cf7ea4992951f2b2a38"><div class="ttname"><a href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a271dba95d3432cf7ea4992951f2b2a38">KKB::KKThread::ShutdownFlag</a></div><div class="ttdeci">VolConstBool &amp; ShutdownFlag() const </div><div class="ttdoc">Indicates that the application wants this thread to complete what work is queued up for it top proces...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d88/_k_k_thread_8h_source.html#l00075">KKThread.h:75</a></div></div>
<div class="ttc" id="class_k_k_b_1_1_raster_html_aa2780c0b7ae75b7b595f99329689c1f6"><div class="ttname"><a href="../../d9/d61/class_k_k_b_1_1_raster.html#aa2780c0b7ae75b7b595f99329689c1f6">KKB::Raster::Width</a></div><div class="ttdeci">kkint32 Width() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/ddd/_raster_8h_source.html#l00324">Raster.h:324</a></div></div>
<div class="ttc" id="_k_k_str_8h_html"><div class="ttname"><a href="../../db/df5/_k_k_str_8h.html">KKStr.h</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_html_a647114917993e8b74a1c2f8c4886ec4b"><div class="ttname"><a href="../../d8/db8/class_m_l_l_1_1_data_base.html#a647114917993e8b74a1c2f8c4886ec4b">MLL::DataBase::LastErrorDesc</a></div><div class="ttdeci">KKStr LastErrorDesc() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6d/_data_base_8cpp_source.html#l01312">DataBase.cpp:1312</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_aaf12c3e19e1818d55827403f01aff6dc"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#aaf12c3e19e1818d55827403f01aff6dc">MLL::DataBaseImage::CentroidCol</a></div><div class="ttdeci">kkuint32 CentroidCol() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00058">DataBaseImage.h:58</a></div></div>
<div class="ttc" id="class_k_k_m_l_l_1_1_feature_vector_html_a3ec4b39405a2904c966a505c391cff33"><div class="ttname"><a href="../../dc/d09/class_k_k_m_l_l_1_1_feature_vector.html#a3ec4b39405a2904c966a505c391cff33">KKMLL::FeatureVector::PredictedClass</a></div><div class="ttdeci">void PredictedClass(MLClassPtr _predictedClass)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/ddf/_feature_vector_8h_source.html#l00078">FeatureVector.h:78</a></div></div>
<div class="ttc" id="class_k_k_m_l_l_1_1_duplicate_images_html"><div class="ttname"><a href="../../d3/d3f/class_k_k_m_l_l_1_1_duplicate_images.html">KKMLL::DuplicateImages</a></div><div class="ttdoc">Detects duplicate images in a given FeaureVectorList objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbc/_duplicate_images_8h_source.html#l00053">DuplicateImages.h:53</a></div></div>
<div class="ttc" id="_data_base_8h_html"><div class="ttname"><a href="../../d4/df5/_data_base_8h.html">DataBase.h</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_a4e6c8b634eb29b18e864b774a1dbb57f"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a4e6c8b634eb29b18e864b774a1dbb57f">ImageExtractionManager::ExtractedImage::PredClass1</a></div><div class="ttdeci">MLClassPtr PredClass1() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00048">ExtractedImage.h:48</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_image_features_list_html"><div class="ttname"><a href="../../d9/dce/class_m_l_l_1_1_image_features_list.html">MLL::ImageFeaturesList</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/deb/_image_features_8h_source.html#l00338">ImageFeatures.h:338</a></div></div>
<div class="ttc" id="_extracted_image_8h_html"><div class="ttname"><a href="../../d5/d1f/_extracted_image_8h.html">ExtractedImage.h</a></div></div>
<div class="ttc" id="_data_base_update_thread_8h_html"><div class="ttname"><a href="../../dc/d26/_data_base_update_thread_8h.html">DataBaseUpdateThread.h</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html">MLL::DataBaseImage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00043">DataBaseImage.h:43</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_aa9e34bfbd0a93b636f241fa972174e57"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#aa9e34bfbd0a93b636f241fa972174e57">ImageExtractionManager::ExtractedImage::PredClass2</a></div><div class="ttdeci">MLClassPtr PredClass2() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00050">ExtractedImage.h:50</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_html_a270b5ca60f2b1f4c29fa34b00a3cfd33"><div class="ttname"><a href="../../d8/db8/class_m_l_l_1_1_data_base.html#a270b5ca60f2b1f4c29fa34b00a3cfd33">MLL::DataBase::ImageUpdate</a></div><div class="ttdeci">void ImageUpdate(DataBaseImage &amp;dbImage, RasterSipper &amp;image)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6d/_data_base_8cpp_source.html#l04226">DataBase.cpp:4226</a></div></div>
<div class="ttc" id="class_k_k_b_1_1_k_k_str_html"><div class="ttname"><a href="../../dc/ddd/class_k_k_b_1_1_k_k_str.html">KKB::KKStr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df5/_k_k_str_8h_source.html#l00080">KKStr.h:80</a></div></div>
<div class="ttc" id="class_k_k_b_1_1_k_k_thread_html_a8f6c004d6510b90e5eff9c34efd20967"><div class="ttname"><a href="../../dd/d70/class_k_k_b_1_1_k_k_thread.html#a8f6c004d6510b90e5eff9c34efd20967">KKB::KKThread::AddMsg</a></div><div class="ttdeci">void AddMsg(KKStrPtr msg)</div><div class="ttdoc">Taking ownership of &amp;#39;msg&amp;#39; and will append to &amp;#39;msgQueue&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/_k_k_thread_8cpp_source.html#l00154">KKThread.cpp:154</a></div></div>
<div class="ttc" id="namespace_k_k_b_html_a61e3d69fe8599d1057ace0d00c38a6f9"><div class="ttname"><a href="../../dc/d98/namespace_k_k_b.html#a61e3d69fe8599d1057ace0d00c38a6f9">KKB::osCreateDirectoryPath</a></div><div class="ttdeci">bool osCreateDirectoryPath(KKStr _pathName)</div><div class="ttdoc">Will create the whole Directory Path not just the final part of the path. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7a/_o_sservices_8cpp_source.html#l00825">OSservices.cpp:825</a></div></div>
<div class="ttc" id="class_k_k_m_l_l_1_1_duplicate_image_html"><div class="ttname"><a href="../../d0/d73/class_k_k_m_l_l_1_1_duplicate_image.html">KKMLL::DuplicateImage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbc/_duplicate_images_8h_source.html#l00124">DuplicateImages.h:124</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_parms_html_a567b3e1c5c6e0d4d01cf5e386efceb95"><div class="ttname"><a href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a567b3e1c5c6e0d4d01cf5e386efceb95">ImageExtractionManager::ExtractionParms::SipperFileName</a></div><div class="ttdeci">const KKStr &amp; SipperFileName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da4/_extraction_parms_8h_source.html#l00092">ExtractionParms.h:92</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_image_features_html_af2a968993b9369d66305daf739695921"><div class="ttname"><a href="../../d3/dc7/class_m_l_l_1_1_image_features.html#af2a968993b9369d66305daf739695921">MLL::ImageFeatures::CentroidCol</a></div><div class="ttdeci">void CentroidCol(FVFloat _centroidCol)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/deb/_image_features_8h_source.html#l00143">ImageFeatures.h:143</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_image_features_html"><div class="ttname"><a href="../../d3/dc7/class_m_l_l_1_1_image_features.html">MLL::ImageFeatures</a></div><div class="ttdoc">Specialized version of MLL::FeatureVector that will be used to represent the features of a SIPPER Pla...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/deb/_image_features_8h_source.html#l00084">ImageFeatures.h:84</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_parms_html_a6f942691d76fb708441af42232922988"><div class="ttname"><a href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a6f942691d76fb708441af42232922988">ImageExtractionManager::ExtractionParms::RefreshDataBaseImages</a></div><div class="ttdeci">bool RefreshDataBaseImages() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da4/_extraction_parms_8h_source.html#l00087">ExtractionParms.h:87</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_raster_sipper_html"><div class="ttname"><a href="../../d3/d8f/class_m_l_l_1_1_raster_sipper.html">MLL::RasterSipper</a></div><div class="ttdoc">A class that is used by to represent a single Sipper Image in memory. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da7/_raster_sipper_8h_source.html#l00051">RasterSipper.h:51</a></div></div>
<div class="ttc" id="namespace_k_k_b_html_af5b668ed9902d7f93b62529664a739f0"><div class="ttname"><a href="../../dc/d98/namespace_k_k_b.html#af5b668ed9902d7f93b62529664a739f0">KKB::osGetRootName</a></div><div class="ttdeci">KKStr osGetRootName(const KKStr &amp;fullFileName)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7a/_o_sservices_8cpp_source.html#l01154">OSservices.cpp:1154</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_a8f47bd028237f26a9d7c24ebbc4a9ef1"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a8f47bd028237f26a9d7c24ebbc4a9ef1">ImageExtractionManager::ExtractedImage::FeatureVectorGiveOwnership</a></div><div class="ttdeci">ImageFeaturesPtr FeatureVectorGiveOwnership()</div><div class="ttdoc">Turns over ownership of FeatureVector to the caller. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/_extracted_image_8cpp_source.html#l00091">ExtractedImage.cpp:91</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_399e5bf5300041671b36af9e3e10cbf7.html">PicesLibraries</a></li><li class="navelem"><a class="el" href="../../dir_2340442b62b1f08529eb4026bbcf1160.html">ImageExtractionManager</a></li><li class="navelem"><a class="el" href="../../df/d65/_data_base_update_thread_8cpp.html">DataBaseUpdateThread.cpp</a></li>
    <li class="footer">Generated on Sat Apr 2 2016 23:24:06 for Pices by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
