<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Pices: E:/Users/kkramer/ProgProjects/Pices/PicesLibraries/ImageExtractionManager/DataBaseUpdateThread.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Pices
   &#160;<span id="projectnumber">1.83</span>
   </div>
   <div id="projectbrief">Plankton image classification and extraction software (PICES)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('df/d65/_data_base_update_thread_8cpp_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">DataBaseUpdateThread.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../df/d65/_data_base_update_thread_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include  &quot;<a class="code" href="../../db/da0/_first_includes_8h.html">FirstIncludes.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;ctype.h&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include  &lt;time.h&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include  &lt;string&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include  &lt;iostream&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include  &lt;fstream&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include  &lt;map&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include  &lt;vector&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#ifdef WIN32</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;windows.h&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d84/_memory_debug_8h.html">MemoryDebug.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">using namespace  </span><a class="code" href="../../d8/dcc/namespacestd.html">std</a>;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/ddc/_basic_types_8h.html">BasicTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d7d/_image_i_o_8h.html">ImageIO.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;OSservices.h&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d3a/_run_log_8h.html">RunLog.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d72/_str_8h.html">Str.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">using namespace  </span><a class="code" href="../../d4/d25/namespace_k_k_u.html">KKU</a>;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/df5/_data_base_8h.html">DataBase.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/dbc/_duplicate_images_8h.html">DuplicateImages.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d75/_file_desc_8h.html">FileDesc.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/dd8/_m_l_class_8h.html">MLClass.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/deb/_image_features_8h.html">ImageFeatures.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">using namespace  </span><a class="code" href="../../d7/dcc/namespace_m_l_l.html">MLL</a>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d26/_data_base_update_thread_8h.html">DataBaseUpdateThread.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d7c/_extraction_manager_8h.html">ExtractionManager.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/da4/_extraction_parms_8h.html">ExtractionParms.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d1f/_extracted_image_8h.html">ExtractedImage.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">using namespace  </span><a class="code" href="../../d0/d9d/namespace_image_extraction_manager.html">ImageExtractionManager</a>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#aa44cbb16b6230b3a38861ad9aa77697a">   43</a></span>&#160;DataBaseUpdateThread::DataBaseUpdateThread (<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html">ExtractionParms</a>&amp;                 _parms,</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                                            <a class="code" href="../../d3/d4a/class_image_extraction_manager_1_1_extraction_manager.html">ExtractionManagerPtr</a>             _extractionManager,</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="../../d9/d3e/class_k_k_u_1_1_k_k_str.html">KKStr</a>&amp;                     _threadName,</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                                            <a class="code" href="../../d2/d2e/class_k_k_u_1_1_msg_queue.html">MsgQueuePtr</a>                      _msgQueue,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                                            <a class="code" href="../../d8/d06/class_image_extraction_manager_1_1_extracted_image_queue.html">ExtractedImageQueuePtr</a>           _imagesAwaitingUpdate,</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                            <a class="code" href="../../d3/d58/class_m_l_l_1_1_sipper_extraction_image_manager.html">SipperExtractionImageManagerPtr</a>  _imageManager,</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                                            <a class="code" href="../../dc/d79/class_m_l_l_1_1_file_desc.html">FileDescPtr</a>                      _fileDesc</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                           ):</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html">ImageExtractionThread</a> (_parms, _extractionManager, _threadName, _msgQueue),</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    imagesAwaitingUpdate  (_imagesAwaitingUpdate),</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    dbConn                (NULL),</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    dupImageDetector      (NULL),</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    duplicateImageDir     (),</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    duplicateImages       (NULL),</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    fileDesc              (_fileDesc),</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    imageManager          (_imageManager),</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    sipperRootName        (),</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    duplicatesDetected    (0),</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    imagesUpdated         (0),</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    updateFailures        (0),</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    log                   ()</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  sipperRootName = <a class="code" href="../../d4/d25/namespace_k_k_u.html#ab2962577e8684e754574472d54fb98f5">osGetRootName</a> (<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a567b3e1c5c6e0d4d01cf5e386efceb95">SipperFileName</a> ());</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">if</span>  (<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a408aaf5d9e16e694bc400d0b09187c9a">ExtractFeatureData</a> ())</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    dupImageDetector = <span class="keyword">new</span> <a class="code" href="../../d1/d26/class_m_l_l_1_1_duplicate_images.html">DuplicateImages</a> (fileDesc, log);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    duplicateImages  = <span class="keyword">new</span> <a class="code" href="../../d9/dce/class_m_l_l_1_1_image_features_list.html">ImageFeaturesList</a> (fileDesc, <span class="keyword">true</span>, log);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    duplicateImageDir = <a class="code" href="../../d4/d25/namespace_k_k_u.html#a8384a37f88f8ff8892f312538cf9992a">osAddSlash</a> (<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a266513499e197eaacac5d4ca11f556e0">OutputRootDir</a> ()) + <span class="stringliteral">&quot;DuplicateImages&quot;</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="../../d4/d25/namespace_k_k_u.html#aceeb20d8fb7382e8fd7017f9e2472222">osCreateDirectoryPath</a> (duplicateImageDir);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#aea46d2b5966c876767bb032413500136">   80</a></span>&#160;<a class="code" href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#aea46d2b5966c876767bb032413500136">DataBaseUpdateThread::~DataBaseUpdateThread</a> ()</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keyword">delete</span>  dbConn;             dbConn = NULL;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keyword">delete</span>  dupImageDetector;   dupImageDetector = NULL;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keyword">delete</span>  duplicateImages;    duplicateImages  = NULL;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#a0e967156a79634787353c23711bf7804">   89</a></span>&#160;<span class="keywordtype">void</span>  <a class="code" href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#a0e967156a79634787353c23711bf7804">DataBaseUpdateThread::GetRunTimeStats</a> (<a class="code" href="../../d4/d25/namespace_k_k_u.html#a149aa050db05906d9ded9ba155d7693b">uint32</a>&amp;  _imagesUpdated,</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                                             <a class="code" href="../../d4/d25/namespace_k_k_u.html#a149aa050db05906d9ded9ba155d7693b">uint32</a>&amp;  _duplicatesDetected,</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                                             <a class="code" href="../../d4/d25/namespace_k_k_u.html#a149aa050db05906d9ded9ba155d7693b">uint32</a>&amp;  _updateFailures</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                                            )</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  _imagesUpdated      =  imagesUpdated;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  _duplicatesDetected =  duplicatesDetected;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  _updateFailures     =  updateFailures;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html">ExtractedImagePtr</a>  DataBaseUpdateThread::GetNextImageToUpdate ()</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html">ExtractedImagePtr</a>  nextImage = imagesAwaitingUpdate-&gt;<a class="code" href="../../d8/d06/class_image_extraction_manager_1_1_extracted_image_queue.html#a3ef8b895c9c37e9fd80bbdc4b92ffe04">GetNextExtractedImage</a> ();</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">while</span>  ((nextImage == NULL)  &amp;&amp;  (!<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#ae4a2ca6a44a39d04d2c80678881362ef">CancelOrTerminateRequested</a> ()))</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="../../d4/d25/namespace_k_k_u.html#a684798173f37dbe996210eb73ec7a18f">osSleep</a> (0.01f);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    nextImage = imagesAwaitingUpdate-&gt;<a class="code" href="../../d8/d06/class_image_extraction_manager_1_1_extracted_image_queue.html#a3ef8b895c9c37e9fd80bbdc4b92ffe04">GetNextExtractedImage</a> ();</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">return</span>  nextImage;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}  <span class="comment">/* GetNextImageToUpdate */</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#a8760181ccecde4b7075c7f61ffe9681e">  115</a></span>&#160;<span class="keywordtype">void</span>  <a class="code" href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#a8760181ccecde4b7075c7f61ffe9681e">DataBaseUpdateThread::Run</a> ()</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a87e35917e0dd7196c25e862bdf2242dd">Status</a> (<a class="code" href="../../d0/d9d/namespace_image_extraction_manager.html#a417e7ca12dfc4d70ebdedc8fc21de72ca898062ba60c30ef2ba9e4aaae62af3b6">tsStarting</a>);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#ab522d61294034df590b562bac7d9aa5d">AddMsg</a> (<span class="stringliteral">&quot;Run   Starting&quot;</span>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">if</span>  (<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a3317b188ba6c4025239f1d557bcc8b74">CancelFlag</a> ())</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a87e35917e0dd7196c25e862bdf2242dd">Status</a> (<a class="code" href="../../d0/d9d/namespace_image_extraction_manager.html#a417e7ca12dfc4d70ebdedc8fc21de72cadb00b402d7f358bc872e5ffd9a8a70cc">tsStopped</a>);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">if</span>  (<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a4d77ed82ae52041c961b61ad36798fe5">UpdateDataBase</a> ())</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    dbConn = <span class="keyword">new</span> <a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html">DataBase</a> (<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#aa4baa63971c3795b2fbb9590008ddb62">DataBaseServer</a> (), log);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">if</span>  (!dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#ace2050cfde3ee6cf9a4bd4901850f58c">Valid</a> ())</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a95c744a44262c4603fa447dc4caae8a9">Crashed</a> (<span class="keyword">true</span>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <a class="code" href="../../d9/d3e/class_k_k_u_1_1_k_k_str.html">KKStr</a>  msg (100);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      msg &lt;&lt; <span class="stringliteral">&quot;Run     Failed to connect to database;  Error[&quot;</span> &lt;&lt; dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a647114917993e8b74a1c2f8c4886ec4b">LastErrorDesc</a> () &lt;&lt; <span class="stringliteral">&quot;].&quot;</span>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a87e35917e0dd7196c25e862bdf2242dd">Status</a> (<a class="code" href="../../d0/d9d/namespace_image_extraction_manager.html#a417e7ca12dfc4d70ebdedc8fc21de72cadb00b402d7f358bc872e5ffd9a8a70cc">tsStopped</a>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    } </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a87e35917e0dd7196c25e862bdf2242dd">Status</a> (<a class="code" href="../../d0/d9d/namespace_image_extraction_manager.html#a417e7ca12dfc4d70ebdedc8fc21de72cabed6f6bfa5afa290d2a64125d87f4b60">tsRunning</a>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html">ExtractedImagePtr</a>  extractedImage = GetNextImageToUpdate ();</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">while</span>  (!<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a3317b188ba6c4025239f1d557bcc8b74">CancelFlag</a> ())</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span>  (extractedImage == NULL)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="keywordflow">if</span>  (<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#ac0aea62119d1be16b0683e06420cc678">TerminateFlag</a> ())</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <a class="code" href="../../d4/d25/namespace_k_k_u.html#a684798173f37dbe996210eb73ec7a18f">osSleep</a> (0.1f);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <span class="keywordtype">bool</span>  imageIsDuplicate = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordtype">bool</span>  imageUpdated     = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <a class="code" href="../../d3/dc7/class_m_l_l_1_1_image_features.html">ImageFeaturesPtr</a>  featureVector = extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a8f47bd028237f26a9d7c24ebbc4a9ef1">FeatureVectorGiveOwnership</a> ();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <a class="code" href="../../d8/d8e/class_k_k_u_1_1_raster_sipper.html">RasterSipperPtr</a>   raster        = extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#afe3a3a0c3cb208d2080e31f84b9691c9">ImageGiveOwnership</a> ();</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <a class="code" href="../../d9/d3e/class_k_k_u_1_1_k_k_str.html">KKStr</a>  imageFileName = raster-&gt;<a class="code" href="../../db/d74/class_k_k_u_1_1_raster.html#a9bb656b1b065fc23ad97e5317205e322">FileName</a> ();</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="comment">// Before we go and save this Plankton Image, lets make sure that</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="comment">// it is not a duplicate of a previous one extracted.  This was a problem</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="comment">// with the earlier version of SIPPER.  The disk controller would write out </span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="comment">// the last 10mb buffer to the disk twice. This issue was fixed but to allow us to </span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <span class="comment">// process the ealier SIPPER files we look for duplicates and excliude them </span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <span class="comment">// from the databse.</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <span class="keywordflow">if</span>  (dupImageDetector)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <a class="code" href="../../d3/d31/class_m_l_l_1_1_duplicate_image.html">DuplicateImagePtr</a>  dupImages = dupImageDetector-&gt;<a class="code" href="../../d1/d26/class_m_l_l_1_1_duplicate_images.html#aba83fe7ec673e17125dabe9f667d698a">AddSingleImage</a> (featureVector);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">if</span>  (dupImages)</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;          <a class="code" href="../../d9/d3e/class_k_k_u_1_1_k_k_str.html">KKStr</a>  msg (100);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;          msg &lt;&lt; <span class="stringliteral">&quot;Run   Duplicate Image Detected[&quot;</span> &lt;&lt; featureVector-&gt;<a class="code" href="../../d9/d00/class_m_l_l_1_1_feature_vector.html#adbf33e2f4f4de9a5a9ddc47ef6ff2717">ImageFileName</a> () &lt;&lt; <span class="stringliteral">&quot;].&quot;</span>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;          <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#ab522d61294034df590b562bac7d9aa5d">AddMsg</a> (msg);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;          imageIsDuplicate = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;          imageUpdated     = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;          <span class="keywordflow">if</span>  (!duplicateImageDir.<a class="code" href="../../d9/d3e/class_k_k_u_1_1_k_k_str.html#a9bbb93721701fe0c518336f06bb434d0">Empty</a> ())</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;          {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="comment">// Since image is a duplicate we will need to move it to duplicates directory</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <a class="code" href="../../d9/d3e/class_k_k_u_1_1_k_k_str.html">KKStr</a>  newRootName = <a class="code" href="../../d4/d25/namespace_k_k_u.html#ab2962577e8684e754574472d54fb98f5">osGetRootName</a> (dupImages-&gt;<a class="code" href="../../d3/d31/class_m_l_l_1_1_duplicate_image.html#aeeff105578c78d74652118ba1b82ce71">FirstImageAdded</a> ()-&gt;<a class="code" href="../../d9/d00/class_m_l_l_1_1_feature_vector.html#adbf33e2f4f4de9a5a9ddc47ef6ff2717">ImageFileName</a> ()) </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                                  + <span class="stringliteral">&quot;-&quot;</span> +</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                                  <a class="code" href="../../d4/d25/namespace_k_k_u.html#ab2962577e8684e754574472d54fb98f5">osGetRootName</a> (featureVector-&gt;<a class="code" href="../../d9/d00/class_m_l_l_1_1_feature_vector.html#adbf33e2f4f4de9a5a9ddc47ef6ff2717">ImageFileName</a> ());</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <a class="code" href="../../d9/d3e/class_k_k_u_1_1_k_k_str.html">KKStr</a>  newFullFileName = <a class="code" href="../../d4/d25/namespace_k_k_u.html#a8384a37f88f8ff8892f312538cf9992a">osAddSlash</a> (duplicateImageDir) + newRootName + <span class="stringliteral">&quot;.bmp&quot;</span>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <a class="code" href="../../d4/d25/namespace_k_k_u.html#adbcc07b8308e24597eb89ac5c92a45b4">osDeleteFile</a> (newFullFileName);  <span class="comment">// Make sure there is no file already there from prev run.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <a class="code" href="../../d4/d25/namespace_k_k_u.html#aa2a8f0f2870cd76815d8c52aab02ff71">SaveImageGrayscaleInverted4Bit</a> (*raster, newFullFileName);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;          }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;          <span class="comment">// We need to give ownership of the &#39;featureVector&#39; instance to &#39;duplicateImages&#39; because this instance</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;          <span class="comment">// is not going to be given to the &quot;imageManager&quot;;  as a result we need to keep it in memry somewhere </span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;          <span class="comment">// until we delete  the &#39;dupImageDetector&#39; instance which is referring to it.</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;          duplicateImages-&gt;<a class="code" href="../../d2/d85/class_m_l_l_1_1_feature_vector_list.html#abd43779a90a6aa3db1de8092be877bdb">PushOnBack</a> (featureVector);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;          featureVector = NULL;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;          <span class="comment">// But at this point there is no reason to save the &#39;raster&#39; instance.</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;          <span class="keyword">delete</span>  raster;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;          raster = NULL;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keywordflow">if</span>  (!imageIsDuplicate)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordtype">bool</span>  successful = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <a class="code" href="../../d4/d82/class_m_l_l_1_1_m_l_class.html">MLClassPtr</a>  validatedClass = NULL;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">if</span>  (<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a6f942691d76fb708441af42232922988">RefreshDataBaseImages</a> ()  &amp;&amp;  (dbConn != NULL)  &amp;&amp;  (extractedImage != NULL))</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;          ReFreshDataBaseImage (imageFileName, </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                                sipperRootName, </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                                raster, </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                                featureVector, </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                                extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a1c758738a1a18d173be55cef3f5ebd8c">ByteOffsetFirstScanRow</a> (),</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                                extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a058d7312cb14e2670d55a7e85123e55b">SipperFileScanRow</a> (),</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                                extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a2bb2fae71979837293a16c27e6790156">SipperFileScanCol</a> ()</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                               );</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>  ((<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a408aaf5d9e16e694bc400d0b09187c9a">ExtractFeatureData</a> ())  &amp;&amp;  (dbConn != NULL))</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;          <a class="code" href="../../d4/d25/namespace_k_k_u.html#aaff8d343258235a8f0f57c7311bc7935">int32</a>  imageId = 0;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;          dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a2e43a986aa29aee1c1cf93a918924cb9">ImageInsert</a> (*raster,</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                               <a class="code" href="../../d4/d25/namespace_k_k_u.html#ab2962577e8684e754574472d54fb98f5">osGetRootName</a> (imageFileName),</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                               sipperRootName,</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                               extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a1c758738a1a18d173be55cef3f5ebd8c">ByteOffsetFirstScanRow</a> (),</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                               extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a058d7312cb14e2670d55a7e85123e55b">SipperFileScanRow</a> (),</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                               extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a2bb2fae71979837293a16c27e6790156">SipperFileScanCol</a> (),</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                               raster-&gt;<a class="code" href="../../db/d74/class_k_k_u_1_1_raster.html#acd900c7c2e0e7a49cba8025d0bd8854f">Height</a> (),</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                               raster-&gt;<a class="code" href="../../db/d74/class_k_k_u_1_1_raster.html#a689abed69a70e603db178e8c8f6f26f2">Width</a>  (),</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                               extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a524f5aa071a50f48386bffac27031987">PixelCount</a> (),</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                               <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#ac3bb883fbae68b93cd887f57fc22db89">ConnectedPixelDist</a> (),</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                               <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a7a547e5803bf2dee8d27dba6c5218453">extractionManager</a>-&gt;<a class="code" href="../../d3/d4a/class_image_extraction_manager_1_1_extraction_manager.html#a1ded17d6ebda2d06fd771589ed57a5fd">LogEntryId</a> (),</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                               <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a7a547e5803bf2dee8d27dba6c5218453">extractionManager</a>-&gt;<a class="code" href="../../d3/d4a/class_image_extraction_manager_1_1_extraction_manager.html#a1ded17d6ebda2d06fd771589ed57a5fd">LogEntryId</a> (),         <span class="comment">// Classification Update LogEntryID</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                               (<a class="code" href="../../d4/d25/namespace_k_k_u.html#aaff8d343258235a8f0f57c7311bc7935">int32</a>)(featureVector-&gt;<a class="code" href="../../d3/dc7/class_m_l_l_1_1_image_features.html#a55acdcb98ebfd20542e5cfe21e738319">CentroidRow</a> () + 0.5f),</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                               (<a class="code" href="../../d4/d25/namespace_k_k_u.html#aaff8d343258235a8f0f57c7311bc7935">int32</a>)(featureVector-&gt;<a class="code" href="../../d3/dc7/class_m_l_l_1_1_image_features.html#a2c3f145c1659853724724ee00d99d028">CentroidCol</a> () + 0.5f),</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                               extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a00abaec80ae62d0c872066dd6661f90c">PredClass1</a> (),</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                               extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a313b986419d7c5c9b6f7d6330b579e91">PredClass1Prob</a> (),</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                               extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#ad75ff466bf1e2687773449aaa67bd548">PredClass2</a> (),</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                               extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#adc6c0b1440901b9f510cf1b5bff2ff5a">PredClass2Prob</a> (),</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                               NULL,                                     <span class="comment">// Validated Class</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                               featureVector-&gt;<a class="code" href="../../d3/dc7/class_m_l_l_1_1_image_features.html#af0aeca8393b6399ecfcd1631c05c8d44">Depth</a> (),</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                               0.0f,                                     <span class="comment">// imageSize</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                               NULL,                                     <span class="comment">// sizeCoordinates</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                               imageId,</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                               successful</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                              );</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;          <span class="keywordflow">if</span>  (!successful)</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;          {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            imageUpdated = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            updateFailures++;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <a class="code" href="../../d9/d3e/class_k_k_u_1_1_k_k_str.html">KKStr</a>  msg (100);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            msg &lt;&lt; <span class="stringliteral">&quot;Run    ***ERROR***   ImageInsert Failed   ErrorMessage[&quot;</span> </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                &lt;&lt; dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a647114917993e8b74a1c2f8c4886ec4b">LastErrorDesc</a> () &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#ab522d61294034df590b562bac7d9aa5d">AddMsg</a> (msg);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;          }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;          {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a1113f7acbeeffd161d9ddb1eeec15da7">FeatureDataInsertRow</a> (sipperRootName, *featureVector);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <span class="keywordflow">if</span>  (!dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#ace2050cfde3ee6cf9a4bd4901850f58c">Valid</a> ())</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;              imageUpdated = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;              updateFailures++;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;              <a class="code" href="../../d9/d3e/class_k_k_u_1_1_k_k_str.html">KKStr</a>  msg (100);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;              msg &lt;&lt; <span class="stringliteral">&quot;Run    ***ERROR***   FeatureDataInsertRow Failed   ErrorMessage[&quot;</span> </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                  &lt;&lt; dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a647114917993e8b74a1c2f8c4886ec4b">LastErrorDesc</a> () &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;              <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#ab522d61294034df590b562bac7d9aa5d">AddMsg</a> (msg);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;          }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;          <span class="comment">// We will be giving ownership of &#39;featureVector&#39; to &#39;imageManager&#39;.</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;          imageManager-&gt;<a class="code" href="../../d3/d58/class_m_l_l_1_1_sipper_extraction_image_manager.html#adfcfc429135c67ee36ebbe854c5ef1d3">AddImage</a> (imageFileName, </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                                  extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a00abaec80ae62d0c872066dd6661f90c">PredClass1</a> (),</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                                  extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a524f5aa071a50f48386bffac27031987">PixelCount</a> (),</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                                  extractedImage-&gt;<a class="code" href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a7eb91942cd103cb1ec9726d631f4ec8c">Depth</a> (),</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                                  featureVector,              <span class="comment">// imageManager will take ownershop og image.</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                                  raster,</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                                  <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a469fb750312e310d1779b05c05dd91f8">Colorize</a> ()</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                                 );</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;          featureVector = NULL;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">catch</span> (...)</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;          <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#ab522d61294034df590b562bac7d9aa5d">AddMsg</a> (<span class="stringliteral">&quot;Run       Exception adding image to ImageManager.&quot;</span>);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      <span class="keywordflow">if</span>  (imageUpdated)</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        ++imagesUpdated;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="keywordflow">if</span>  (imageIsDuplicate)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        ++duplicatesDetected;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <span class="keyword">delete</span>  raster;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      raster = NULL;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keyword">delete</span>  extractedImage; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    extractedImage = NULL;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    extractedImage = GetNextImageToUpdate ();</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a87e35917e0dd7196c25e862bdf2242dd">Status</a> (<a class="code" href="../../d0/d9d/namespace_image_extraction_manager.html#a417e7ca12dfc4d70ebdedc8fc21de72caa0ad58961419ea6bfbae747101407e2b">tsStopping</a>);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keyword">delete</span>  dbConn;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  dbConn = NULL;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a87e35917e0dd7196c25e862bdf2242dd">Status</a> (<a class="code" href="../../d0/d9d/namespace_image_extraction_manager.html#a417e7ca12dfc4d70ebdedc8fc21de72cadb00b402d7f358bc872e5ffd9a8a70cc">tsStopped</a>);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#ab522d61294034df590b562bac7d9aa5d">AddMsg</a> (<span class="stringliteral">&quot;Run    Exiting&quot;</span>);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;} <span class="comment">/* Run */</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="keywordtype">void</span>  DataBaseUpdateThread::ReFreshDataBaseImage (<span class="keyword">const</span> <a class="code" href="../../d9/d3e/class_k_k_u_1_1_k_k_str.html">KKStr</a>&amp;      imageFileName, </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                                                  <span class="keyword">const</span> <a class="code" href="../../d9/d3e/class_k_k_u_1_1_k_k_str.html">KKStr</a>&amp;      sipperFileName, </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                                                  <a class="code" href="../../d8/d8e/class_k_k_u_1_1_raster_sipper.html">RasterSipperPtr</a>   raster, </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                                                  <a class="code" href="../../d3/dc7/class_m_l_l_1_1_image_features.html">ImageFeaturesPtr</a>  featureVector,</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                                                  <a class="code" href="../../d4/d25/namespace_k_k_u.html#a398792080694ad59a78be063abbeb964">uint64</a>            byteOffset,</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                                                  <a class="code" href="../../d4/d25/namespace_k_k_u.html#a149aa050db05906d9ded9ba155d7693b">uint32</a>            sipperTopRow,</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                                                  <a class="code" href="../../d4/d25/namespace_k_k_u.html#a149aa050db05906d9ded9ba155d7693b">uint32</a>            sipperTopCol</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                                                 )</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;{</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">if</span>  (!dbConn)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordtype">float</span>  centroidRow         = -1.0f;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordtype">float</span>  centroidCol         = -1.0f;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keywordtype">float</span>  centroidWeightedCol = -1.0f;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordtype">float</span>  centroidWeightedRow = -1.0f;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordtype">int</span>    imageId             = -1;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keywordtype">int</span>    size                = 0;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordtype">bool</span>   successful          = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordtype">int</span>    weight              = 0;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  raster-&gt;<a class="code" href="../../db/d74/class_k_k_u_1_1_raster.html#aeb7d8f5a4a4c22ef7e3795f764434ae4">CalcCentroid</a> (size, weight, centroidRow, centroidCol, centroidWeightedRow, centroidWeightedCol);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html">DataBaseImagePtr</a>  existingEntry = dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a8884f651e6492955260413461333084e">ImagesLocateClosestImage</a> (imageFileName);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordflow">if</span>  (existingEntry)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#ab2720ba7ad35f39e1e0071d58c650a19">PixelCount</a> ((<a class="code" href="../../d4/d25/namespace_k_k_u.html#a805293e87b69c13d2cb63f909ff15f01">uint</a>)size);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#acc4de308444bf13fc1663c955ee159e8">ConnectedPixelDist</a> (<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#ac3bb883fbae68b93cd887f57fc22db89">ConnectedPixelDist</a> ());</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#a9fbe136e65e12139b70ee0a3853d6991">ExtractionLogEntryId</a> (<a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a7a547e5803bf2dee8d27dba6c5218453">extractionManager</a>-&gt;<a class="code" href="../../d3/d4a/class_image_extraction_manager_1_1_extraction_manager.html#a1ded17d6ebda2d06fd771589ed57a5fd">LogEntryId</a> ());</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#af73d0db13cb41d63958fd307055ebab4">CentroidRow</a> ((<span class="keywordtype">int</span>)(centroidRow + 0.5f));</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#adad88f031c34f3ec173dad6af1f5843b">CentroidCol</a> ((<span class="keywordtype">int</span>)(centroidCol + 0.5f));</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#ac3312bb92b2b21d4d6d6c35b15ac385d">ByteOffset</a>  (byteOffset);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#a1d7eac3870c59cdae55f88f100869d0c">TopLeftRow</a>  (sipperTopRow);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#a8926e4f62beb9ea8bd14b5bc7a474ef0">TopLeftCol</a>  (sipperTopCol);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#a2667e6a2c2ee27f0068e4e1d004b23b7">Height</a>      (raster-&gt;<a class="code" href="../../db/d74/class_k_k_u_1_1_raster.html#acd900c7c2e0e7a49cba8025d0bd8854f">Height</a> ());</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    existingEntry-&gt;<a class="code" href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#ac5c103aa697481fae0208db308efc6fc">Width</a>       (raster-&gt;<a class="code" href="../../db/d74/class_k_k_u_1_1_raster.html#a689abed69a70e603db178e8c8f6f26f2">Width</a>  ());</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a270b5ca60f2b1f4c29fa34b00a3cfd33">ImageUpdate</a> (*existingEntry, *raster);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">if</span>  (!dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#ace2050cfde3ee6cf9a4bd4901850f58c">Valid</a> ())</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      updateFailures++;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#ab522d61294034df590b562bac7d9aa5d">AddMsg</a> (<span class="stringliteral">&quot;ReFreshDataBaseImage  &quot;</span> + dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a647114917993e8b74a1c2f8c4886ec4b">LastErrorDesc</a> ());</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>  (featureVector)</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a2e43a986aa29aee1c1cf93a918924cb9">ImageInsert</a> (*raster,</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                         <a class="code" href="../../d4/d25/namespace_k_k_u.html#ab2962577e8684e754574472d54fb98f5">osGetRootName</a> (imageFileName),</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                         sipperRootName,</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                         byteOffset,       <span class="comment">// byteOffset,     // byteOffset of SipperRow containing TopLeftRow</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                         sipperTopRow,</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                         sipperTopCol,</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                         raster-&gt;<a class="code" href="../../db/d74/class_k_k_u_1_1_raster.html#acd900c7c2e0e7a49cba8025d0bd8854f">Height</a> (),</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                         raster-&gt;<a class="code" href="../../db/d74/class_k_k_u_1_1_raster.html#a689abed69a70e603db178e8c8f6f26f2">Width</a>  (),</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                         (<a class="code" href="../../d4/d25/namespace_k_k_u.html#a805293e87b69c13d2cb63f909ff15f01">uint</a>)(size),</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                         <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">parms</a>.<a class="code" href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#ac3bb883fbae68b93cd887f57fc22db89">ConnectedPixelDist</a> (),</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                         <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a7a547e5803bf2dee8d27dba6c5218453">extractionManager</a>-&gt;<a class="code" href="../../d3/d4a/class_image_extraction_manager_1_1_extraction_manager.html#a1ded17d6ebda2d06fd771589ed57a5fd">LogEntryId</a> (),    <span class="comment">// Image Extration Log ID</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                         <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a7a547e5803bf2dee8d27dba6c5218453">extractionManager</a>-&gt;<a class="code" href="../../d3/d4a/class_image_extraction_manager_1_1_extraction_manager.html#a1ded17d6ebda2d06fd771589ed57a5fd">LogEntryId</a> (),    <span class="comment">// Log ntry for classification.</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                         (<a class="code" href="../../d4/d25/namespace_k_k_u.html#a805293e87b69c13d2cb63f909ff15f01">uint</a>)(centroidRow + 0.5f),</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                         (<a class="code" href="../../d4/d25/namespace_k_k_u.html#a805293e87b69c13d2cb63f909ff15f01">uint</a>)(centroidCol + 0.5f),</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                         featureVector-&gt;<a class="code" href="../../d9/d00/class_m_l_l_1_1_feature_vector.html#a36fc1e1289308ad5effb823fe858aac5">PredictedClass</a> (),</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                         featureVector-&gt;<a class="code" href="../../d9/d00/class_m_l_l_1_1_feature_vector.html#acaaddb798a9b94c13d434a6bc7b52c02">Probability</a> (),</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                         NULL,</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                         0.0f,</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                         NULL,</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                         featureVector-&gt;<a class="code" href="../../d3/dc7/class_m_l_l_1_1_image_features.html#af0aeca8393b6399ecfcd1631c05c8d44">Depth</a> (),</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                         0.0f,                      <span class="comment">// imageSize</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                         NULL,                      <span class="comment">// SizeCoordinates</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                         imageId,</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                         successful</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                        );</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">if</span>  (!dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#ace2050cfde3ee6cf9a4bd4901850f58c">Valid</a> ())</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      updateFailures++;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <a class="code" href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#ab522d61294034df590b562bac7d9aa5d">AddMsg</a> (<span class="stringliteral">&quot;ReFreshDataBaseImage  &quot;</span> + dbConn-&gt;<a class="code" href="../../d8/db8/class_m_l_l_1_1_data_base.html#a647114917993e8b74a1c2f8c4886ec4b">LastErrorDesc</a> ());</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    }</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keyword">delete</span>  existingEntry;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  existingEntry = NULL;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;}  <span class="comment">/* ReFreshDataBaseImage */</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div>
<div class="ttc" id="class_image_extraction_manager_1_1_data_base_update_thread_html_a0e967156a79634787353c23711bf7804"><div class="ttname"><a href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#a0e967156a79634787353c23711bf7804">ImageExtractionManager::DataBaseUpdateThread::GetRunTimeStats</a></div><div class="ttdeci">void GetRunTimeStats(uint32 &amp;_imagesUpdated, uint32 &amp;_duplicatesDetected, uint32 &amp;_updateFailures)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d65/_data_base_update_thread_8cpp_source.html#l00089">DataBaseUpdateThread.cpp:89</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_image_extraction_thread_html_a7a547e5803bf2dee8d27dba6c5218453"><div class="ttname"><a href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a7a547e5803bf2dee8d27dba6c5218453">ImageExtractionManager::ImageExtractionThread::extractionManager</a></div><div class="ttdeci">ExtractionManagerPtr extractionManager</div><div class="ttdoc">Pointer to instance that manges all the threads. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4a/_image_extraction_thread_8h_source.html#l00069">ImageExtractionThread.h:69</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_sipper_extraction_image_manager_html_adfcfc429135c67ee36ebbe854c5ef1d3"><div class="ttname"><a href="../../d3/d58/class_m_l_l_1_1_sipper_extraction_image_manager.html#adfcfc429135c67ee36ebbe854c5ef1d3">MLL::SipperExtractionImageManager::AddImage</a></div><div class="ttdeci">void AddImage(const KKStr &amp;fileName, MLClassConstPtr predClass, int32 size, float depth, ImageFeaturesPtr example, RasterPtr raster, bool colorize)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd9/_sipper_extraction_image_manager_8cpp_source.html#l00305">SipperExtractionImageManager.cpp:305</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_image_features_html_a55acdcb98ebfd20542e5cfe21e738319"><div class="ttname"><a href="../../d3/dc7/class_m_l_l_1_1_image_features.html#a55acdcb98ebfd20542e5cfe21e738319">MLL::ImageFeatures::CentroidRow</a></div><div class="ttdeci">void CentroidRow(FFLOAT _centroidRow)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/deb/_image_features_8h_source.html#l00151">ImageFeatures.h:151</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_a2667e6a2c2ee27f0068e4e1d004b23b7"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#a2667e6a2c2ee27f0068e4e1d004b23b7">MLL::DataBaseImage::Height</a></div><div class="ttdeci">uint32 Height() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00070">DataBaseImage.h:70</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_af73d0db13cb41d63958fd307055ebab4"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#af73d0db13cb41d63958fd307055ebab4">MLL::DataBaseImage::CentroidRow</a></div><div class="ttdeci">uint32 CentroidRow() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00057">DataBaseImage.h:57</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_ad75ff466bf1e2687773449aaa67bd548"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#ad75ff466bf1e2687773449aaa67bd548">ImageExtractionManager::ExtractedImage::PredClass2</a></div><div class="ttdeci">MLClassConstPtr PredClass2() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00050">ExtractedImage.h:50</a></div></div>
<div class="ttc" id="class_k_k_u_1_1_raster_sipper_html"><div class="ttname"><a href="../../d8/d8e/class_k_k_u_1_1_raster_sipper.html">KKU::RasterSipper</a></div><div class="ttdoc">A class that is used by to represent a single Sipper Image in memory. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da7/_raster_sipper_8h_source.html#l00050">RasterSipper.h:50</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_parms_html_a266513499e197eaacac5d4ca11f556e0"><div class="ttname"><a href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a266513499e197eaacac5d4ca11f556e0">ImageExtractionManager::ExtractionParms::OutputRootDir</a></div><div class="ttdeci">const KKStr &amp; OutputRootDir() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da4/_extraction_parms_8h_source.html#l00087">ExtractionParms.h:87</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_duplicate_image_html"><div class="ttname"><a href="../../d3/d31/class_m_l_l_1_1_duplicate_image.html">MLL::DuplicateImage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbc/_duplicate_images_8h_source.html#l00125">DuplicateImages.h:125</a></div></div>
<div class="ttc" id="_memory_debug_8h_html"><div class="ttname"><a href="../../d8/d84/_memory_debug_8h.html">MemoryDebug.h</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_manager_html"><div class="ttname"><a href="../../d3/d4a/class_image_extraction_manager_1_1_extraction_manager.html">ImageExtractionManager::ExtractionManager</a></div><div class="ttdoc">Manages the extraction of images from a single Sipper File utilizing multiple threads. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7c/_extraction_manager_8h_source.html#l00032">ExtractionManager.h:32</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_ab2720ba7ad35f39e1e0071d58c650a19"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#ab2720ba7ad35f39e1e0071d58c650a19">MLL::DataBaseImage::PixelCount</a></div><div class="ttdeci">uint32 PixelCount() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00074">DataBaseImage.h:74</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_image_extraction_thread_html_ac0aea62119d1be16b0683e06420cc678"><div class="ttname"><a href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#ac0aea62119d1be16b0683e06420cc678">ImageExtractionManager::ImageExtractionThread::TerminateFlag</a></div><div class="ttdeci">volatile const bool &amp; TerminateFlag() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4a/_image_extraction_thread_8h_source.html#l00048">ImageExtractionThread.h:48</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_a1c758738a1a18d173be55cef3f5ebd8c"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a1c758738a1a18d173be55cef3f5ebd8c">ImageExtractionManager::ExtractedImage::ByteOffsetFirstScanRow</a></div><div class="ttdeci">uint64 ByteOffsetFirstScanRow() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00043">ExtractedImage.h:43</a></div></div>
<div class="ttc" id="namespace_k_k_u_html_a398792080694ad59a78be063abbeb964"><div class="ttname"><a href="../../d4/d25/namespace_k_k_u.html#a398792080694ad59a78be063abbeb964">KKU::uint64</a></div><div class="ttdeci">__UINT64_TYPE__ uint64</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/ddc/_basic_types_8h_source.html#l00126">BasicTypes.h:126</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_image_extraction_thread_html_a87e35917e0dd7196c25e862bdf2242dd"><div class="ttname"><a href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a87e35917e0dd7196c25e862bdf2242dd">ImageExtractionManager::ImageExtractionThread::Status</a></div><div class="ttdeci">ThreadStatus Status() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4a/_image_extraction_thread_8h_source.html#l00047">ImageExtractionThread.h:47</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_adc6c0b1440901b9f510cf1b5bff2ff5a"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#adc6c0b1440901b9f510cf1b5bff2ff5a">ImageExtractionManager::ExtractedImage::PredClass2Prob</a></div><div class="ttdeci">float PredClass2Prob() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00051">ExtractedImage.h:51</a></div></div>
<div class="ttc" id="namespace_image_extraction_manager_html_a417e7ca12dfc4d70ebdedc8fc21de72cabed6f6bfa5afa290d2a64125d87f4b60"><div class="ttname"><a href="../../d0/d9d/namespace_image_extraction_manager.html#a417e7ca12dfc4d70ebdedc8fc21de72cabed6f6bfa5afa290d2a64125d87f4b60">ImageExtractionManager::tsRunning</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4a/_image_extraction_thread_8h_source.html#l00014">ImageExtractionThread.h:14</a></div></div>
<div class="ttc" id="namespace_k_k_u_html_aa2a8f0f2870cd76815d8c52aab02ff71"><div class="ttname"><a href="../../d4/d25/namespace_k_k_u.html#aa2a8f0f2870cd76815d8c52aab02ff71">KKU::SaveImageGrayscaleInverted4Bit</a></div><div class="ttdeci">void SaveImageGrayscaleInverted4Bit(const Raster &amp;image, const KKStr &amp;_fileName)</div><div class="ttdoc">Saves image as BMP file using 4 bit compressed grayscale where Background = 255 and foreground = 0...</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd2/_image_i_o_8cpp_source.html#l01010">ImageIO.cpp:1010</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_html_a8884f651e6492955260413461333084e"><div class="ttname"><a href="../../d8/db8/class_m_l_l_1_1_data_base.html#a8884f651e6492955260413461333084e">MLL::DataBase::ImagesLocateClosestImage</a></div><div class="ttdeci">DataBaseImagePtr ImagesLocateClosestImage(const KKStr &amp;imageFileName)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6d/_data_base_8cpp_source.html#l03531">DataBase.cpp:3531</a></div></div>
<div class="ttc" id="_run_log_8h_html"><div class="ttname"><a href="../../d5/d3a/_run_log_8h.html">RunLog.h</a></div></div>
<div class="ttc" id="class_k_k_u_1_1_raster_html_a9bb656b1b065fc23ad97e5317205e322"><div class="ttname"><a href="../../db/d74/class_k_k_u_1_1_raster.html#a9bb656b1b065fc23ad97e5317205e322">KKU::Raster::FileName</a></div><div class="ttdeci">const KKStr &amp; FileName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/ddd/_raster_8h_source.html#l00241">Raster.h:241</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_html_ace2050cfde3ee6cf9a4bd4901850f58c"><div class="ttname"><a href="../../d8/db8/class_m_l_l_1_1_data_base.html#ace2050cfde3ee6cf9a4bd4901850f58c">MLL::DataBase::Valid</a></div><div class="ttdeci">bool Valid() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df5/_data_base_8h_source.html#l00120">DataBase.h:120</a></div></div>
<div class="ttc" id="namespace_k_k_u_html_ab2962577e8684e754574472d54fb98f5"><div class="ttname"><a href="../../d4/d25/namespace_k_k_u.html#ab2962577e8684e754574472d54fb98f5">KKU::osGetRootName</a></div><div class="ttdeci">KKStr osGetRootName(const KKStr &amp;fullFileName)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8c/_base_library_2_o_sservices_8cpp_source.html#l00965">OSservices.cpp:965</a></div></div>
<div class="ttc" id="_file_desc_8h_html"><div class="ttname"><a href="../../d1/d75/_file_desc_8h.html">FileDesc.h</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_a1d7eac3870c59cdae55f88f100869d0c"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#a1d7eac3870c59cdae55f88f100869d0c">MLL::DataBaseImage::TopLeftRow</a></div><div class="ttdeci">uint32 TopLeftRow() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00079">DataBaseImage.h:79</a></div></div>
<div class="ttc" id="namespace_image_extraction_manager_html_a417e7ca12dfc4d70ebdedc8fc21de72cadb00b402d7f358bc872e5ffd9a8a70cc"><div class="ttname"><a href="../../d0/d9d/namespace_image_extraction_manager.html#a417e7ca12dfc4d70ebdedc8fc21de72cadb00b402d7f358bc872e5ffd9a8a70cc">ImageExtractionManager::tsStopped</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4a/_image_extraction_thread_8h_source.html#l00016">ImageExtractionThread.h:16</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_ac3312bb92b2b21d4d6d6c35b15ac385d"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#ac3312bb92b2b21d4d6d6c35b15ac385d">MLL::DataBaseImage::ByteOffset</a></div><div class="ttdeci">osFilePos ByteOffset() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00055">DataBaseImage.h:55</a></div></div>
<div class="ttc" id="namespace_k_k_u_html_a149aa050db05906d9ded9ba155d7693b"><div class="ttname"><a href="../../d4/d25/namespace_k_k_u.html#a149aa050db05906d9ded9ba155d7693b">KKU::uint32</a></div><div class="ttdeci">__UINT32_TYPE__ uint32</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/ddc/_basic_types_8h_source.html#l00123">BasicTypes.h:123</a></div></div>
<div class="ttc" id="_first_includes_8h_html"><div class="ttname"><a href="../../db/da0/_first_includes_8h.html">FirstIncludes.h</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_parms_html_aa4baa63971c3795b2fbb9590008ddb62"><div class="ttname"><a href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#aa4baa63971c3795b2fbb9590008ddb62">ImageExtractionManager::ExtractionParms::DataBaseServer</a></div><div class="ttdeci">DataBaseServerPtr DataBaseServer() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da4/_extraction_parms_8h_source.html#l00075">ExtractionParms.h:75</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_a8926e4f62beb9ea8bd14b5bc7a474ef0"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#a8926e4f62beb9ea8bd14b5bc7a474ef0">MLL::DataBaseImage::TopLeftCol</a></div><div class="ttdeci">uint32 TopLeftCol() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00080">DataBaseImage.h:80</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_parms_html"><div class="ttname"><a href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html">ImageExtractionManager::ExtractionParms</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da4/_extraction_parms_8h_source.html#l00030">ExtractionParms.h:30</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="../../d8/dcc/namespacestd.html">std</a></div><div class="ttdoc">STL namespace. </div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_image_extraction_thread_html_a95c744a44262c4603fa447dc4caae8a9"><div class="ttname"><a href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a95c744a44262c4603fa447dc4caae8a9">ImageExtractionManager::ImageExtractionThread::Crashed</a></div><div class="ttdeci">bool Crashed() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4a/_image_extraction_thread_8h_source.html#l00046">ImageExtractionThread.h:46</a></div></div>
<div class="ttc" id="namespace_m_l_l_html"><div class="ttname"><a href="../../d7/dcc/namespace_m_l_l.html">MLL</a></div><div class="ttdoc">Namespace for all Machine Learning and SIPPER specific code. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d99/_pices_prediction_list_8h_source.html#l00012">PicesPredictionList.h:12</a></div></div>
<div class="ttc" id="class_k_k_u_1_1_raster_html_acd900c7c2e0e7a49cba8025d0bd8854f"><div class="ttname"><a href="../../db/d74/class_k_k_u_1_1_raster.html#acd900c7c2e0e7a49cba8025d0bd8854f">KKU::Raster::Height</a></div><div class="ttdeci">int32 Height() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/ddd/_raster_8h_source.html#l00245">Raster.h:245</a></div></div>
<div class="ttc" id="_extraction_parms_8h_html"><div class="ttname"><a href="../../dd/da4/_extraction_parms_8h.html">ExtractionParms.h</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_feature_vector_html_a36fc1e1289308ad5effb823fe858aac5"><div class="ttname"><a href="../../d9/d00/class_m_l_l_1_1_feature_vector.html#a36fc1e1289308ad5effb823fe858aac5">MLL::FeatureVector::PredictedClass</a></div><div class="ttdeci">void PredictedClass(MLClassConstPtr _predictedClass)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/ddf/_feature_vector_8h_source.html#l00087">FeatureVector.h:87</a></div></div>
<div class="ttc" id="namespace_k_k_u_html_adbcc07b8308e24597eb89ac5c92a45b4"><div class="ttname"><a href="../../d4/d25/namespace_k_k_u.html#adbcc07b8308e24597eb89ac5c92a45b4">KKU::osDeleteFile</a></div><div class="ttdeci">bool osDeleteFile(KKStr _fileName)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8c/_base_library_2_o_sservices_8cpp_source.html#l00416">OSservices.cpp:416</a></div></div>
<div class="ttc" id="_duplicate_images_8h_html"><div class="ttname"><a href="../../dd/dbc/_duplicate_images_8h.html">DuplicateImages.h</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_ac5c103aa697481fae0208db308efc6fc"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#ac5c103aa697481fae0208db308efc6fc">MLL::DataBaseImage::Width</a></div><div class="ttdeci">uint32 Width() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00083">DataBaseImage.h:83</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_acc4de308444bf13fc1663c955ee159e8"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#acc4de308444bf13fc1663c955ee159e8">MLL::DataBaseImage::ConnectedPixelDist</a></div><div class="ttdeci">uchar ConnectedPixelDist() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00065">DataBaseImage.h:65</a></div></div>
<div class="ttc" id="namespace_k_k_u_html_a805293e87b69c13d2cb63f909ff15f01"><div class="ttname"><a href="../../d4/d25/namespace_k_k_u.html#a805293e87b69c13d2cb63f909ff15f01">KKU::uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdoc">Unsigned integer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/ddc/_basic_types_8h_source.html#l00077">BasicTypes.h:77</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_m_l_class_html"><div class="ttname"><a href="../../d4/d82/class_m_l_l_1_1_m_l_class.html">MLL::MLClass</a></div><div class="ttdoc">Represents a "Class" in the Machine Learnining Sense. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_m_l_class_8h_source.html#l00091">MLClass.h:91</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_image_extraction_thread_html_ab522d61294034df590b562bac7d9aa5d"><div class="ttname"><a href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#ab522d61294034df590b562bac7d9aa5d">ImageExtractionManager::ImageExtractionThread::AddMsg</a></div><div class="ttdeci">void AddMsg(KKStrPtr msg)</div><div class="ttdoc">Taking ownership of &#39;msg&#39; and will append to &#39;msgQueue&#39;. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8e/_image_extraction_thread_8cpp_source.html#l00094">ImageExtractionThread.cpp:94</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_parms_html_ac3bb883fbae68b93cd887f57fc22db89"><div class="ttname"><a href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#ac3bb883fbae68b93cd887f57fc22db89">ImageExtractionManager::ExtractionParms::ConnectedPixelDist</a></div><div class="ttdeci">uint32 ConnectedPixelDist() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da4/_extraction_parms_8h_source.html#l00073">ExtractionParms.h:73</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_html"><div class="ttname"><a href="../../d8/db8/class_m_l_l_1_1_data_base.html">MLL::DataBase</a></div><div class="ttdoc">DataBase connection management object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df5/_data_base_8h_source.html#l00072">DataBase.h:72</a></div></div>
<div class="ttc" id="namespace_image_extraction_manager_html"><div class="ttname"><a href="../../d0/d9d/namespace_image_extraction_manager.html">ImageExtractionManager</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d26/_data_base_update_thread_8h_source.html#l00018">DataBaseUpdateThread.h:18</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_a9fbe136e65e12139b70ee0a3853d6991"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#a9fbe136e65e12139b70ee0a3853d6991">MLL::DataBaseImage::ExtractionLogEntryId</a></div><div class="ttdeci">uint32 ExtractionLogEntryId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00069">DataBaseImage.h:69</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_a313b986419d7c5c9b6f7d6330b579e91"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a313b986419d7c5c9b6f7d6330b579e91">ImageExtractionManager::ExtractedImage::PredClass1Prob</a></div><div class="ttdeci">float PredClass1Prob() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00049">ExtractedImage.h:49</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_parms_html_a4d77ed82ae52041c961b61ad36798fe5"><div class="ttname"><a href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a4d77ed82ae52041c961b61ad36798fe5">ImageExtractionManager::ExtractionParms::UpdateDataBase</a></div><div class="ttdeci">bool UpdateDataBase() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da4/_extraction_parms_8h_source.html#l00096">ExtractionParms.h:96</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_sipper_extraction_image_manager_html"><div class="ttname"><a href="../../d3/d58/class_m_l_l_1_1_sipper_extraction_image_manager.html">MLL::SipperExtractionImageManager</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dad/_sipper_extraction_image_manager_8h_source.html#l00031">SipperExtractionImageManager.h:31</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_queue_html_a3ef8b895c9c37e9fd80bbdc4b92ffe04"><div class="ttname"><a href="../../d8/d06/class_image_extraction_manager_1_1_extracted_image_queue.html#a3ef8b895c9c37e9fd80bbdc4b92ffe04">ImageExtractionManager::ExtractedImageQueue::GetNextExtractedImage</a></div><div class="ttdeci">ExtractedImagePtr GetNextExtractedImage()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/_extracted_image_8cpp_source.html#l00187">ExtractedImage.cpp:187</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_a00abaec80ae62d0c872066dd6661f90c"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a00abaec80ae62d0c872066dd6661f90c">ImageExtractionManager::ExtractedImage::PredClass1</a></div><div class="ttdeci">MLClassConstPtr PredClass1() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00048">ExtractedImage.h:48</a></div></div>
<div class="ttc" id="namespace_image_extraction_manager_html_a417e7ca12dfc4d70ebdedc8fc21de72ca898062ba60c30ef2ba9e4aaae62af3b6"><div class="ttname"><a href="../../d0/d9d/namespace_image_extraction_manager.html#a417e7ca12dfc4d70ebdedc8fc21de72ca898062ba60c30ef2ba9e4aaae62af3b6">ImageExtractionManager::tsStarting</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4a/_image_extraction_thread_8h_source.html#l00013">ImageExtractionThread.h:13</a></div></div>
<div class="ttc" id="namespace_k_k_u_html_aaff8d343258235a8f0f57c7311bc7935"><div class="ttname"><a href="../../d4/d25/namespace_k_k_u.html#aaff8d343258235a8f0f57c7311bc7935">KKU::int32</a></div><div class="ttdeci">__INT32_TYPE__ int32</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/ddc/_basic_types_8h_source.html#l00121">BasicTypes.h:121</a></div></div>
<div class="ttc" id="namespace_k_k_u_html_a684798173f37dbe996210eb73ec7a18f"><div class="ttname"><a href="../../d4/d25/namespace_k_k_u.html#a684798173f37dbe996210eb73ec7a18f">KKU::osSleep</a></div><div class="ttdeci">void osSleep(float numOfSecs)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8c/_base_library_2_o_sservices_8cpp_source.html#l02523">OSservices.cpp:2523</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_data_base_update_thread_html_a8760181ccecde4b7075c7f61ffe9681e"><div class="ttname"><a href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#a8760181ccecde4b7075c7f61ffe9681e">ImageExtractionManager::DataBaseUpdateThread::Run</a></div><div class="ttdeci">virtual void Run()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d65/_data_base_update_thread_8cpp_source.html#l00115">DataBaseUpdateThread.cpp:115</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_a524f5aa071a50f48386bffac27031987"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a524f5aa071a50f48386bffac27031987">ImageExtractionManager::ExtractedImage::PixelCount</a></div><div class="ttdeci">uint32 PixelCount() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00047">ExtractedImage.h:47</a></div></div>
<div class="ttc" id="_m_l_class_8h_html"><div class="ttname"><a href="../../d3/dd8/_m_l_class_8h.html">MLClass.h</a></div></div>
<div class="ttc" id="namespace_k_k_u_html_aceeb20d8fb7382e8fd7017f9e2472222"><div class="ttname"><a href="../../d4/d25/namespace_k_k_u.html#aceeb20d8fb7382e8fd7017f9e2472222">KKU::osCreateDirectoryPath</a></div><div class="ttdeci">bool osCreateDirectoryPath(KKStr _pathName)</div><div class="ttdoc">Will create the whole Directory Path not just the final part of the path. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8c/_base_library_2_o_sservices_8cpp_source.html#l00718">OSservices.cpp:718</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_a2bb2fae71979837293a16c27e6790156"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a2bb2fae71979837293a16c27e6790156">ImageExtractionManager::ExtractedImage::SipperFileScanCol</a></div><div class="ttdeci">uint32 SipperFileScanCol() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00053">ExtractedImage.h:53</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_parms_html_a408aaf5d9e16e694bc400d0b09187c9a"><div class="ttname"><a href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a408aaf5d9e16e694bc400d0b09187c9a">ImageExtractionManager::ExtractionParms::ExtractFeatureData</a></div><div class="ttdeci">bool ExtractFeatureData() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da4/_extraction_parms_8h_source.html#l00078">ExtractionParms.h:78</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_parms_html_a469fb750312e310d1779b05c05dd91f8"><div class="ttname"><a href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a469fb750312e310d1779b05c05dd91f8">ImageExtractionManager::ExtractionParms::Colorize</a></div><div class="ttdeci">bool Colorize() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da4/_extraction_parms_8h_source.html#l00070">ExtractionParms.h:70</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_duplicate_images_html"><div class="ttname"><a href="../../d1/d26/class_m_l_l_1_1_duplicate_images.html">MLL::DuplicateImages</a></div><div class="ttdoc">Detects duplicate images in a given FeaureVectorList objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbc/_duplicate_images_8h_source.html#l00055">DuplicateImages.h:55</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_queue_html"><div class="ttname"><a href="../../d8/d06/class_image_extraction_manager_1_1_extracted_image_queue.html">ImageExtractionManager::ExtractedImageQueue</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00095">ExtractedImage.h:95</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_image_extraction_thread_html_ae4a2ca6a44a39d04d2c80678881362ef"><div class="ttname"><a href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#ae4a2ca6a44a39d04d2c80678881362ef">ImageExtractionManager::ImageExtractionThread::CancelOrTerminateRequested</a></div><div class="ttdeci">bool CancelOrTerminateRequested()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4a/_image_extraction_thread_8h_source.html#l00067">ImageExtractionThread.h:67</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_html_a1113f7acbeeffd161d9ddb1eeec15da7"><div class="ttname"><a href="../../d8/db8/class_m_l_l_1_1_data_base.html#a1113f7acbeeffd161d9ddb1eeec15da7">MLL::DataBase::FeatureDataInsertRow</a></div><div class="ttdeci">void FeatureDataInsertRow(const KKStr &amp;_sipperFileName, const ImageFeatures &amp;example)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6d/_data_base_8cpp_source.html#l01788">DataBase.cpp:1788</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_image_extraction_thread_html"><div class="ttname"><a href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html">ImageExtractionManager::ImageExtractionThread</a></div><div class="ttdoc">The base class to be used by all Extraction Manager threads. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4a/_image_extraction_thread_8h_source.html#l00032">ImageExtractionThread.h:32</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_data_base_update_thread_html_aea46d2b5966c876767bb032413500136"><div class="ttname"><a href="../../d0/dbf/class_image_extraction_manager_1_1_data_base_update_thread.html#aea46d2b5966c876767bb032413500136">ImageExtractionManager::DataBaseUpdateThread::~DataBaseUpdateThread</a></div><div class="ttdeci">virtual ~DataBaseUpdateThread()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d65/_data_base_update_thread_8cpp_source.html#l00080">DataBaseUpdateThread.cpp:80</a></div></div>
<div class="ttc" id="_extraction_manager_8h_html"><div class="ttname"><a href="../../df/d7c/_extraction_manager_8h.html">ExtractionManager.h</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_a7eb91942cd103cb1ec9726d631f4ec8c"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a7eb91942cd103cb1ec9726d631f4ec8c">ImageExtractionManager::ExtractedImage::Depth</a></div><div class="ttdeci">float Depth() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00044">ExtractedImage.h:44</a></div></div>
<div class="ttc" id="_image_i_o_8h_html"><div class="ttname"><a href="../../d6/d7d/_image_i_o_8h.html">ImageIO.h</a></div><div class="ttdoc">Methods for reading and writing Images. </div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_afe3a3a0c3cb208d2080e31f84b9691c9"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#afe3a3a0c3cb208d2080e31f84b9691c9">ImageExtractionManager::ExtractedImage::ImageGiveOwnership</a></div><div class="ttdeci">RasterSipperPtr ImageGiveOwnership()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/_extracted_image_8cpp_source.html#l00098">ExtractedImage.cpp:98</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_duplicate_image_html_aeeff105578c78d74652118ba1b82ce71"><div class="ttname"><a href="../../d3/d31/class_m_l_l_1_1_duplicate_image.html#aeeff105578c78d74652118ba1b82ce71">MLL::DuplicateImage::FirstImageAdded</a></div><div class="ttdeci">FeatureVectorPtr FirstImageAdded()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbc/_duplicate_images_8h_source.html#l00145">DuplicateImages.h:145</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html">ImageExtractionManager::ExtractedImage</a></div><div class="ttdoc">Represets particle that was extracted by &#39;LogicalFrame&#39; with its related data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00024">ExtractedImage.h:24</a></div></div>
<div class="ttc" id="class_k_k_u_1_1_k_k_str_html_a9bbb93721701fe0c518336f06bb434d0"><div class="ttname"><a href="../../d9/d3e/class_k_k_u_1_1_k_k_str.html#a9bbb93721701fe0c518336f06bb434d0">KKU::KKStr::Empty</a></div><div class="ttdeci">bool Empty() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d72/_str_8h_source.html#l00218">Str.h:218</a></div></div>
<div class="ttc" id="class_k_k_u_1_1_raster_html_aeb7d8f5a4a4c22ef7e3795f764434ae4"><div class="ttname"><a href="../../db/d74/class_k_k_u_1_1_raster.html#aeb7d8f5a4a4c22ef7e3795f764434ae4">KKU::Raster::CalcCentroid</a></div><div class="ttdeci">void CalcCentroid(int32 &amp;size, int32 &amp;weight, float &amp;rowCenter, float &amp;colCenter, float &amp;rowCenterWeighted, float &amp;colCenterWeighted)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d14/_raster_8cpp_source.html#l04764">Raster.cpp:4764</a></div></div>
<div class="ttc" id="class_k_k_u_1_1_msg_queue_html"><div class="ttname"><a href="../../d2/d2e/class_k_k_u_1_1_msg_queue.html">KKU::MsgQueue</a></div><div class="ttdoc">Will manage a buffer that will allow multiple threads to add and remove messages to a queue...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d28/_msg_queue_8h_source.html#l00019">MsgQueue.h:19</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_file_desc_html"><div class="ttname"><a href="../../dc/d79/class_m_l_l_1_1_file_desc.html">MLL::FileDesc</a></div><div class="ttdoc">Provides a detailed description of the attributes of a dataset. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d75/_file_desc_8h_source.html#l00088">FileDesc.h:88</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_image_extraction_thread_html_a3317b188ba6c4025239f1d557bcc8b74"><div class="ttname"><a href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a3317b188ba6c4025239f1d557bcc8b74">ImageExtractionManager::ImageExtractionThread::CancelFlag</a></div><div class="ttdeci">volatile const bool &amp; CancelFlag() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4a/_image_extraction_thread_8h_source.html#l00045">ImageExtractionThread.h:45</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_a058d7312cb14e2670d55a7e85123e55b"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a058d7312cb14e2670d55a7e85123e55b">ImageExtractionManager::ExtractedImage::SipperFileScanRow</a></div><div class="ttdeci">uint32 SipperFileScanRow() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1f/_extracted_image_8h_source.html#l00052">ExtractedImage.h:52</a></div></div>
<div class="ttc" id="_basic_types_8h_html"><div class="ttname"><a href="../../d5/ddc/_basic_types_8h.html">BasicTypes.h</a></div><div class="ttdoc">This include file contains common definitions that are used by all classes in BaseLibrary. </div></div>
<div class="ttc" id="class_k_k_u_1_1_k_k_str_html"><div class="ttname"><a href="../../d9/d3e/class_k_k_u_1_1_k_k_str.html">KKU::KKStr</a></div><div class="ttdoc">A string class providing safe runtime string management. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d72/_str_8h_source.html#l00047">Str.h:47</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_image_extraction_thread_html_a4987dc8eb89710236aad657237f02a77"><div class="ttname"><a href="../../dc/d04/class_image_extraction_manager_1_1_image_extraction_thread.html#a4987dc8eb89710236aad657237f02a77">ImageExtractionManager::ImageExtractionThread::parms</a></div><div class="ttdeci">ExtractionParms &amp; parms</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4a/_image_extraction_thread_8h_source.html#l00071">ImageExtractionThread.h:71</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html_adad88f031c34f3ec173dad6af1f5843b"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html#adad88f031c34f3ec173dad6af1f5843b">MLL::DataBaseImage::CentroidCol</a></div><div class="ttdeci">uint32 CentroidCol() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00056">DataBaseImage.h:56</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_feature_vector_list_html_abd43779a90a6aa3db1de8092be877bdb"><div class="ttname"><a href="../../d2/d85/class_m_l_l_1_1_feature_vector_list.html#abd43779a90a6aa3db1de8092be877bdb">MLL::FeatureVectorList::PushOnBack</a></div><div class="ttdeci">void PushOnBack(FeatureVectorPtr image)</div><div class="ttdoc">Overloading the PushOnBack function in KKQueue so we can monitor the Version and Sort Order...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6a/_feature_vector_8cpp_source.html#l00600">FeatureVector.cpp:600</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_feature_vector_html_acaaddb798a9b94c13d434a6bc7b52c02"><div class="ttname"><a href="../../d9/d00/class_m_l_l_1_1_feature_vector.html#acaaddb798a9b94c13d434a6bc7b52c02">MLL::FeatureVector::Probability</a></div><div class="ttdeci">void Probability(FFLOAT _probability)</div><div class="ttdoc">Assign a prediction probability to this example. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/ddf/_feature_vector_8h_source.html#l00088">FeatureVector.h:88</a></div></div>
<div class="ttc" id="_image_features_8h_html"><div class="ttname"><a href="../../de/deb/_image_features_8h.html">ImageFeatures.h</a></div></div>
<div class="ttc" id="_str_8h_html"><div class="ttname"><a href="../../d3/d72/_str_8h.html">Str.h</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_html_a647114917993e8b74a1c2f8c4886ec4b"><div class="ttname"><a href="../../d8/db8/class_m_l_l_1_1_data_base.html#a647114917993e8b74a1c2f8c4886ec4b">MLL::DataBase::LastErrorDesc</a></div><div class="ttdeci">KKStr LastErrorDesc() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6d/_data_base_8cpp_source.html#l01291">DataBase.cpp:1291</a></div></div>
<div class="ttc" id="_data_base_8h_html"><div class="ttname"><a href="../../d4/df5/_data_base_8h.html">DataBase.h</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_image_features_list_html"><div class="ttname"><a href="../../d9/dce/class_m_l_l_1_1_image_features_list.html">MLL::ImageFeaturesList</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/deb/_image_features_8h_source.html#l00343">ImageFeatures.h:343</a></div></div>
<div class="ttc" id="_extracted_image_8h_html"><div class="ttname"><a href="../../d5/d1f/_extracted_image_8h.html">ExtractedImage.h</a></div></div>
<div class="ttc" id="class_k_k_u_1_1_raster_html_a689abed69a70e603db178e8c8f6f26f2"><div class="ttname"><a href="../../db/d74/class_k_k_u_1_1_raster.html#a689abed69a70e603db178e8c8f6f26f2">KKU::Raster::Width</a></div><div class="ttdeci">int32 Width() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/ddd/_raster_8h_source.html#l00249">Raster.h:249</a></div></div>
<div class="ttc" id="_data_base_update_thread_8h_html"><div class="ttname"><a href="../../dc/d26/_data_base_update_thread_8h.html">DataBaseUpdateThread.h</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_image_html"><div class="ttname"><a href="../../dc/d69/class_m_l_l_1_1_data_base_image.html">MLL::DataBaseImage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d0c/_data_base_image_8h_source.html#l00041">DataBaseImage.h:41</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_html_a270b5ca60f2b1f4c29fa34b00a3cfd33"><div class="ttname"><a href="../../d8/db8/class_m_l_l_1_1_data_base.html#a270b5ca60f2b1f4c29fa34b00a3cfd33">MLL::DataBase::ImageUpdate</a></div><div class="ttdeci">void ImageUpdate(DataBaseImage &amp;dbImage, RasterSipper &amp;image)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6d/_data_base_8cpp_source.html#l04083">DataBase.cpp:4083</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_feature_vector_html_adbf33e2f4f4de9a5a9ddc47ef6ff2717"><div class="ttname"><a href="../../d9/d00/class_m_l_l_1_1_feature_vector.html#adbf33e2f4f4de9a5a9ddc47ef6ff2717">MLL::FeatureVector::ImageFileName</a></div><div class="ttdeci">void ImageFileName(const KKStr &amp;_imageFileName)</div><div class="ttdoc">Name of source of feature vectpr, ex: file name of image that the veature vector was computed from...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/ddf/_feature_vector_8h_source.html#l00084">FeatureVector.h:84</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_data_base_html_a2e43a986aa29aee1c1cf93a918924cb9"><div class="ttname"><a href="../../d8/db8/class_m_l_l_1_1_data_base.html#a2e43a986aa29aee1c1cf93a918924cb9">MLL::DataBase::ImageInsert</a></div><div class="ttdeci">void ImageInsert(const RasterSipper &amp;image, const KKStr &amp;imageFileName, const KKStr &amp;sipperFileName, uint64 byteOffset, uint32 topLeftRow, uint32 topLeftCol, uint32 height, uint32 width, uint32 pixelCount, uchar connectedPixelDist, uint32 extractionLogEntryId, uint32 classLogEntryId, uint32 centroidRow, uint32 centroidCol, MLClassConstPtr class1, float class1Prob, MLClassConstPtr class2, float class2Prob, MLClassConstPtr validatedClass, float depth, float imageSize, PointListPtr sizeCoordinates, int32 &amp;imageId, bool &amp;successful)</div><div class="ttdoc">Creates and entry in the Images table for &#39;image&#39;, if either dimension of &#39;image&#39; exceeds 100 it will...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6d/_data_base_8cpp_source.html#l02803">DataBase.cpp:2803</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_duplicate_images_html_aba83fe7ec673e17125dabe9f667d698a"><div class="ttname"><a href="../../d1/d26/class_m_l_l_1_1_duplicate_images.html#aba83fe7ec673e17125dabe9f667d698a">MLL::DuplicateImages::AddSingleImage</a></div><div class="ttdeci">DuplicateImagePtr AddSingleImage(FeatureVectorPtr image)</div><div class="ttdoc">Add one more FeatureVector to the list. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/_duplicate_images_8cpp_source.html#l00118">DuplicateImages.cpp:118</a></div></div>
<div class="ttc" id="namespace_k_k_u_html_a8384a37f88f8ff8892f312538cf9992a"><div class="ttname"><a href="../../d4/d25/namespace_k_k_u.html#a8384a37f88f8ff8892f312538cf9992a">KKU::osAddSlash</a></div><div class="ttdeci">KKStr osAddSlash(const KKStr &amp;fileSpec)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8c/_base_library_2_o_sservices_8cpp_source.html#l00866">OSservices.cpp:866</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_parms_html_a567b3e1c5c6e0d4d01cf5e386efceb95"><div class="ttname"><a href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a567b3e1c5c6e0d4d01cf5e386efceb95">ImageExtractionManager::ExtractionParms::SipperFileName</a></div><div class="ttdeci">const KKStr &amp; SipperFileName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da4/_extraction_parms_8h_source.html#l00095">ExtractionParms.h:95</a></div></div>
<div class="ttc" id="namespace_k_k_u_html"><div class="ttname"><a href="../../d4/d25/namespace_k_k_u.html">KKU</a></div><div class="ttdoc">KKU is a the namespace where all objects that belong to BaseLibrary are stored. </div></div>
<div class="ttc" id="class_m_l_l_1_1_image_features_html_af0aeca8393b6399ecfcd1631c05c8d44"><div class="ttname"><a href="../../d3/dc7/class_m_l_l_1_1_image_features.html#af0aeca8393b6399ecfcd1631c05c8d44">MLL::ImageFeatures::Depth</a></div><div class="ttdeci">void Depth(FFLOAT _depth)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/deb/_image_features_8h_source.html#l00153">ImageFeatures.h:153</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_image_features_html"><div class="ttname"><a href="../../d3/dc7/class_m_l_l_1_1_image_features.html">MLL::ImageFeatures</a></div><div class="ttdoc">Specialized version of MLL::FeatureVector that will be used to represent the features of a SIPPER Pla...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/deb/_image_features_8h_source.html#l00097">ImageFeatures.h:97</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_manager_html_a1ded17d6ebda2d06fd771589ed57a5fd"><div class="ttname"><a href="../../d3/d4a/class_image_extraction_manager_1_1_extraction_manager.html#a1ded17d6ebda2d06fd771589ed57a5fd">ImageExtractionManager::ExtractionManager::LogEntryId</a></div><div class="ttdeci">uint32 LogEntryId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7c/_extraction_manager_8h_source.html#l00047">ExtractionManager.h:47</a></div></div>
<div class="ttc" id="class_m_l_l_1_1_image_features_html_a2c3f145c1659853724724ee00d99d028"><div class="ttname"><a href="../../d3/dc7/class_m_l_l_1_1_image_features.html#a2c3f145c1659853724724ee00d99d028">MLL::ImageFeatures::CentroidCol</a></div><div class="ttdeci">void CentroidCol(FFLOAT _centroidCol)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/deb/_image_features_8h_source.html#l00150">ImageFeatures.h:150</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extraction_parms_html_a6f942691d76fb708441af42232922988"><div class="ttname"><a href="../../d4/d1d/class_image_extraction_manager_1_1_extraction_parms.html#a6f942691d76fb708441af42232922988">ImageExtractionManager::ExtractionParms::RefreshDataBaseImages</a></div><div class="ttdeci">bool RefreshDataBaseImages() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da4/_extraction_parms_8h_source.html#l00090">ExtractionParms.h:90</a></div></div>
<div class="ttc" id="namespace_image_extraction_manager_html_a417e7ca12dfc4d70ebdedc8fc21de72caa0ad58961419ea6bfbae747101407e2b"><div class="ttname"><a href="../../d0/d9d/namespace_image_extraction_manager.html#a417e7ca12dfc4d70ebdedc8fc21de72caa0ad58961419ea6bfbae747101407e2b">ImageExtractionManager::tsStopping</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4a/_image_extraction_thread_8h_source.html#l00015">ImageExtractionThread.h:15</a></div></div>
<div class="ttc" id="class_image_extraction_manager_1_1_extracted_image_html_a8f47bd028237f26a9d7c24ebbc4a9ef1"><div class="ttname"><a href="../../dc/dac/class_image_extraction_manager_1_1_extracted_image.html#a8f47bd028237f26a9d7c24ebbc4a9ef1">ImageExtractionManager::ExtractedImage::FeatureVectorGiveOwnership</a></div><div class="ttdeci">ImageFeaturesPtr FeatureVectorGiveOwnership()</div><div class="ttdoc">Turns over ownership of FeatureVector to the caller. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/_extracted_image_8cpp_source.html#l00090">ExtractedImage.cpp:90</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_6d3195a9752ff74d51c6662c575379ab.html">PicesLibraries</a></li><li class="navelem"><a class="el" href="../../dir_91556928ab15b190935a24d1e697cac2.html">ImageExtractionManager</a></li><li class="navelem"><a class="el" href="../../df/d65/_data_base_update_thread_8cpp.html">DataBaseUpdateThread.cpp</a></li>
    <li class="footer">Generated on Fri Nov 21 2014 17:31:30 for Pices by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
